{"version":3,"sources":["images/logo-white.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Login.js","components/Register.js","components/HamburgerMenu.js","components/PopupWithTooltip.js","images/sucess.png","images/fail.png","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/SubmitPopup.js","utils/api.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","email","loggedIn","onSignOut","isMenuOpen","prepareHamburger","isMobile","signedOut","className","to","activeClassName","signedInDesktop","onClick","signedInMobile","type","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","name","link","likes","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","useState","avatarEditIcon","setAvatarEditIcon","avatar","onMouseEnter","onMouseLeave","about","map","item","Footer","Login","onSignIn","setEmail","password","setPassword","noValidate","onSubmit","e","preventDefault","console","log","id","placeholder","required","value","onChange","target","Register","onSignUp","HamburgerMenu","PopupWithTooltip","isOpen","onClose","result","message","evt","classList","contains","ImagePopup","PopupWithForm","title","submitText","children","EditProfilePopup","onUpdateUser","setName","description","setDescription","useEffect","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddCard","place","setPlace","setLink","SubmitPopup","Api","baseUrl","headers","this","_baseUrl","_headers","customHeaders","urlEnd","method","body","fetch","_header","then","res","ok","json","Promise","reject","status","JSON","stringify","data","_apiRequest","localStorage","getItem","userInfo","avatarUrl","api","authorization","authApi","ProtectedRoute","Component","component","App","history","useHistory","setLoggedIn","setCards","setMenuOpen","window","innerWidth","setMobile","setCurrentUser","isTooltipOpen","setTooltipOpen","tooltipResult","setTooltipResult","tooltipMessage","setTooltipMessage","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isProfilePopupOpen","setProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","selectedCard","setSelectedCard","isSubmitOpen","setSubmitOpen","closeAllPopups","handleTooltipOpen","signIn","setItem","token","push","catch","err","removeItem","onKeypress","key","document","addEventListener","removeEventListener","deletingCard","setDelCard","checkToken","getUserInfo","getInitialCards","onScreenChange","Provider","path","signUp","setTimeout","updateCards","newCard","newCards","c","removeCardLike","addCardLike","setNewAvatar","updateUserInfo","addNewCard","removeCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","getElementById"],"mappings":"gOAAe,MAA0B,uC,OC6E1BA,MAzEf,SAAgBC,GAAQ,IACdC,EAAuED,EAAvEC,MAAOC,EAAgEF,EAAhEE,SAAUC,EAAsDH,EAAtDG,UAAWC,EAA2CJ,EAA3CI,WAAYC,EAA+BL,EAA/BK,iBAAkBC,EAAaN,EAAbM,SAI5DC,EACJ,sBAAKC,UAAU,MAAf,UACE,cAAC,IAAD,CACEC,GAAG,WACHD,UAAU,mBACVE,gBAAgB,mBAHlB,gFAOA,cAAC,IAAD,CACED,GAAG,WACHD,UAAU,mBACVE,gBAAgB,mBAHlB,+CAUEC,EACJ,sBAAKH,UAAU,MAAf,UACE,mBAAGA,UAAU,YAAb,SAA0BP,IAC1B,cAAC,IAAD,CACEQ,GAAG,WACHD,UAAU,0BACVI,QAAST,EAHX,+CAUEU,EACN,qBAAKL,UAAU,MAAf,SAEE,yBAAQA,UAAU,cAAcM,KAAK,SAASF,QAASP,EAAvD,UACE,qBAAKG,UAAS,2BAAsBJ,GAAc,8BAClD,qBAAKI,UAAS,2BAAsBJ,GAAc,8BAClD,qBAAKI,UAAS,2BAAsBJ,GAAc,mCActD,OACE,mCAEE,yBAAQI,UAAU,SAAlB,UACE,qBACEO,IAAKC,EACLC,IAAI,sGACJT,UAAU,iBAhBXN,EAEOI,EAGHO,EAFAF,EAFAJ,QClDAW,EAAqBC,IAAMC,gBC0DzBC,MA1Df,SAAcrB,GAAQ,IACZsB,EAAgDtB,EAAhDsB,KAAMC,EAA0CvB,EAA1CuB,YAAaC,EAA6BxB,EAA7BwB,WAAYC,EAAiBzB,EAAjByB,aAC/BC,EAAsBJ,EAAtBI,KAAMC,EAAgBL,EAAhBK,KAAMC,EAAUN,EAAVM,MAcdC,EAAcV,IAAMW,WAAWZ,GAE/Ba,EAAQT,EAAKU,MAAMC,MAAQJ,EAAYI,IAEvCC,EAAyB,qCAC5BH,GAAS,6BAGNI,EAAUb,EAAKM,MAAMQ,MAAK,SAACC,GAAD,OAAOA,EAAEJ,MAAQJ,EAAYI,OAEvDK,EAAuB,4BAC3BH,GAAW,qBAGb,OACE,qBAAI3B,UAAU,OAAd,UACE,qBACEO,IAAKY,EACLnB,UAAU,qBACVS,IAAKS,EACLd,QAhCN,WACEW,EAAYD,MAiCV,sBAAKd,UAAU,YAAf,UACE,oBAAIA,UAAU,cAAd,SAA6BkB,IAC7B,sBAAKlB,UAAU,uBAAf,UACE,wBACEA,UAAW8B,EACXxB,KAAK,SACLF,QApCV,WACEY,EAAWF,MAqCL,mBAAGd,UAAU,oBAAb,SAAkCoB,EAAMW,eAG5C,wBACEzB,KAAK,SACLN,UAAW0B,EACXtB,QAxCN,WACEa,EAAaH,UCgEFkB,MA5Ef,SAAcxC,GAAQ,IAElByC,EAQEzC,EARFyC,cACAC,EAOE1C,EAPF0C,WACAC,EAME3C,EANF2C,aACAC,EAKE5C,EALF4C,MACArB,EAIEvB,EAJFuB,YACAC,EAGExB,EAHFwB,WACAC,EAEEzB,EAFFyB,aACAnB,EACEN,EADFM,SATiB,EAayBa,IAAM0B,UAAS,GAbxC,mBAaZC,EAbY,KAaIC,EAbJ,KAsBblB,EAAcV,IAAMW,WAAWZ,GAErC,OACE,uBAAMV,UAAU,UAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,4BAAf,UACE,qBACEO,IAAKc,EAAYmB,OACjB/B,IAAI,uCACJT,UAAU,kBACVyC,aAAgB3C,EAAiC,KAlB3D,WACCyC,GAAkB,IAkBTnC,QAASN,EAAWqC,EAAe,OAErC,qBACEnC,UAAS,sCACPsC,EAAiB,sCAAwC,IAE3DlC,QAAS+B,EACTO,aAtBV,WACEH,GAAkB,SAwBd,sBAAKvC,UAAU,0BAAf,UACE,sBAAKA,UAAU,0BAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BqB,EAAYH,OAC3C,wBACEZ,KAAK,SACLN,UAAU,8BACVI,QAAS6B,OAGb,mBAAGjC,UAAU,iBAAb,SAA+BqB,EAAYsB,WAE7C,wBACErC,KAAK,SACLN,UAAU,6BACVI,QAAS8B,OAGb,yBAASlC,UAAU,QAAnB,SACE,oBAAIA,UAAU,cAAd,SACGoC,EAAMQ,KAAI,SAACC,GAAD,OACT,cAAC,EAAD,CACE/B,KAAM+B,EAEN9B,YAAaA,EACbC,WAAYA,EACZC,aAAcA,GAHT4B,EAAKpB,gBC3DTqB,MARf,WACE,OACE,wBAAQ9C,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,uC,MC6DS+C,MA/Df,SAAevD,GAAQ,IAEbwD,EAAaxD,EAAbwD,SAFY,EAIMrC,IAAM0B,SAAS,IAJrB,mBAIb5C,EAJa,KAINwD,EAJM,OASYtC,IAAM0B,SAAS,IAT3B,mBASba,EATa,KASHC,EATG,KAuBpB,OACE,sBAAMnD,UAAU,UAAhB,SACE,qBAAKA,UAAU,kBAAf,SACE,uBAAMA,UAAU,aAAaoD,YAAU,EAACC,SAZ9C,SAAsBC,GACpBA,EAAEC,iBACFC,QAAQC,IAAI,uEACZT,EAAS,CACPE,WACAzD,WAOE,UACE,oBAAIO,UAAU,oBAAd,sCACA,uBACEM,KAAK,QACLN,UAAU,oBACV0D,GAAG,QACHxC,KAAK,QACLyC,YAAY,QACZC,UAAQ,EACRC,MAAOpE,EACPqE,SA/BV,SAA2BR,GACzBL,EAASK,EAAES,OAAOF,UAgCZ,qBAAK7D,UAAU,8BAAf,SACE,sBAAMA,UAAU,oCAElB,uBACEM,KAAK,WACLN,UAAU,oBACV0D,GAAG,WACHxC,KAAK,WACLyC,YAAY,uCACZC,UAAQ,EACRC,MAAOX,EACPY,SAvCV,SAA8BR,GAC5BH,EAAYG,EAAES,OAAOF,UAwCf,qBAAK7D,UAAU,8BAAf,SACE,sBAAMA,UAAU,uCAElB,wBAAQM,KAAK,SAASN,UAAU,4BAAhC,oDCWKgE,MAhEf,SAAkBxE,GAAQ,IAEhByE,EAAazE,EAAbyE,SAFe,EAIGtD,IAAM0B,SAAS,IAJlB,mBAIhB5C,EAJgB,KAITwD,EAJS,OASStC,IAAM0B,SAAS,IATxB,mBAShBa,EATgB,KASNC,EATM,KAuBvB,OACE,sBAAMnD,UAAU,UAAhB,SACE,qBAAKA,UAAU,kBAAf,SACE,uBAAMA,UAAU,aAAaoD,YAAU,EAACC,SAZ9C,SAAsBC,GACpBA,EAAEC,iBACFC,QAAQC,IAAI,uEACZQ,EAAS,CACPf,WACAzD,WAOE,UACE,oBAAIO,UAAU,oBAAd,gFACA,uBACEM,KAAK,QACLN,UAAU,oBACV0D,GAAG,QACHxC,KAAK,QACLyC,YAAY,QACZC,UAAQ,EACRC,MAAOpE,EACPqE,SA/BV,SAA2BR,GACzBL,EAASK,EAAES,OAAOF,UAgCZ,qBAAK7D,UAAU,8BAAf,SACE,sBAAMA,UAAU,oCAElB,uBACEM,KAAK,WACLN,UAAU,oBACV0D,GAAG,WACHxC,KAAK,WACLyC,YAAY,uCACZC,UAAQ,EACRC,MAAOX,EACPY,SAvCV,SAA8BR,GAC5BH,EAAYG,EAAES,OAAOF,UAwCf,qBAAK7D,UAAU,8BAAf,SACE,sBAAMA,UAAU,uCAElB,wBAAQM,KAAK,SAASN,UAAU,4BAAhC,0HAGA,cAAC,IAAD,CAAMA,UAAU,gCAAgCC,GAAG,WAAnD,yKC1CKiE,MAhBf,SAAuB1E,GAAQ,IACrBG,EAAiCH,EAAjCG,UAAWF,EAAsBD,EAAtBC,MAAOG,EAAeJ,EAAfI,WAE1B,OACE,sBAAKI,UAAWJ,EAAa,uCAAyC,iBAAtE,UACA,mBAAGI,UAAU,YAAb,SAA0BP,IAC1B,mBACEO,UAAU,0BACVI,QAAST,EAFX,gDCmBWwE,MAxBf,SAA0B3E,GAAQ,IACxB4E,EAAqC5E,EAArC4E,OAAQC,EAA6B7E,EAA7B6E,QAASC,EAAoB9E,EAApB8E,OAAQC,EAAY/E,EAAZ+E,QAMjC,OACE,qBAAKvE,UAAS,gBAAWoE,GAAU,gBAAkBhE,QALvD,SAA4BoE,GACtBA,EAAIT,OAAOU,UAAUC,SAAS,UAAWL,KAI7C,SACE,sBAAKrE,UAAU,4CAAf,UACE,wBACEM,KAAK,SACLN,UAAU,6BACVI,QAASiE,IAEX,qBAAK9D,IAAK+D,ECnBH,iwFCAA,imHFmB2BtE,UAAU,uBAAuBS,IAAK6D,EAAS,kCAAW,0CAC5F,oBAAItE,UAAU,uBAAd,SAAsCsE,EAAS,wKAAH,yMAE5C,mBAAGtE,UAAU,yBAAb,SAAuCuE,UGOhCI,MA3Bf,SAAoBnF,GAAQ,IAClBsB,EAAkBtB,EAAlBsB,KAAMuD,EAAY7E,EAAZ6E,QACN5C,EAAoBX,EAApBW,IAAKN,EAAeL,EAAfK,KAAMD,EAASJ,EAATI,KAMnB,OACE,qBACElB,UAAS,2BAAsByB,EAAM,eAAiB,IACtDiC,GAAG,mBACHtD,QARJ,SAA4BoE,GACtBA,EAAIT,OAAOU,UAAUC,SAAS,UAAWL,KAI7C,SAKE,sBAAKrE,UAAU,4CAAf,UACE,wBACEM,KAAK,SACLN,UAAU,6BACVI,QAASiE,IAEX,qBAAK9D,IAAKY,EAAMnB,UAAU,iBAAiBS,IAAKS,IAChD,oBAAIlB,UAAU,mBAAd,SAAkCkB,UCM3B0D,MA3Bf,SAAuBpF,GAAQ,IACrB4E,EAAiE5E,EAAjE4E,OAAQC,EAAyD7E,EAAzD6E,QAAShB,EAAgD7D,EAAhD6D,SAAUnC,EAAsC1B,EAAtC0B,KAAM2D,EAAgCrF,EAAhCqF,MAAOC,EAAyBtF,EAAzBsF,WAAYC,EAAavF,EAAbuF,SAM5D,OACE,qBAAK/E,UAAS,gBAAWoE,EAAS,eAAiB,IAAMV,GAAIxC,EAAMd,QALrE,SAA4BoE,GACtBA,EAAIT,OAAOU,UAAUC,SAAS,UAAWL,KAI7C,SACE,sBAAKrE,UAAU,yCAAf,UACE,wBACEM,KAAK,SACLN,UAAU,6BACVI,QAASiE,IAEX,uBAAMrE,UAAU,cAAckB,KAAMA,EAAMmC,SAAUA,EAAUD,YAAU,EAAxE,UACE,oBAAIpD,UAAU,oBAAd,SAAmC6E,IAClCE,EACD,wBAAQzE,KAAK,SAASN,UAAU,mCAAhC,SACG8E,aCsDEE,MAvEf,SAA0BxF,GAAQ,IACxB4E,EAAkC5E,EAAlC4E,OAAQC,EAA0B7E,EAA1B6E,QAASY,EAAiBzF,EAAjByF,aACnB5D,EAAcV,IAAMW,WAAWZ,GAFN,EAIPC,IAAM0B,SAAS,IAJR,mBAIxBnB,EAJwB,KAIlBgE,EAJkB,OASOvE,IAAM0B,SAAS,IATtB,mBASxB8C,EATwB,KASXC,EATW,KA4B/B,OALAzE,IAAM0E,WAAU,WACdH,EAAQ7D,EAAYH,MACpBkE,EAAe/D,EAAYsB,SAC1B,CAACtB,IAGF,eAAC,EAAD,CACE+C,OAAQA,EACRC,QAASA,EACThB,SAlBJ,SAAsBC,GACpBA,EAAEC,iBAEF0B,EAAa,CACX/D,OACAyB,MAAOwC,KAcPN,MAAM,4HACN3D,KAAK,gBACL4D,WAAW,yDANb,UAQE,uBACExE,KAAK,OACLN,UAAU,oBACV0D,GAAG,OACHxC,KAAK,OACLyC,YAAY,gEACZC,UAAQ,EACR0B,UAAU,IACVC,UAAU,KACV1B,MAAO3C,EACP4C,SA1CN,SAA0BR,GACxB4B,EAAQ5B,EAAES,OAAOF,UA2Cf,qBAAK7D,UAAU,8BAAf,SACE,sBAAMA,UAAU,mCAElB,uBACEM,KAAK,OACLN,UAAU,oBACV0D,GAAG,QACHxC,KAAK,QACLyC,YAAY,0FACZC,UAAQ,EACR0B,UAAU,IACVC,UAAU,MACV1B,MAAOsB,EACPrB,SApDN,SAAiCR,GAC/B8B,EAAe9B,EAAES,OAAOF,UAqDtB,qBAAK7D,UAAU,8BAAf,SACE,sBAAMA,UAAU,wCC5BTwF,MAtCf,SAAyBhG,GAAQ,IACvB4E,EAAoC5E,EAApC4E,OAAQC,EAA4B7E,EAA5B6E,QAASoB,EAAmBjG,EAAnBiG,eAEnBC,EAAY/E,IAAMgF,SAUxB,OACE,eAAC,EAAD,CACAvB,OAAQA,EACRC,QAASA,EACThB,SAZF,SAAsBC,GACpBA,EAAEC,iBACFkC,EAAe,CACbjD,OAAQkD,EAAUE,QAAQ/B,QAE5B6B,EAAUE,QAAQ/B,MAAQ,IAQ1BgB,MAAM,wFACN3D,KAAK,eACL4D,WAAW,yDANX,UAQA,uBACExE,KAAK,MACLN,UAAU,oBACV0D,GAAG,SACHxC,KAAK,SACLyC,YAAY,yFACZC,UAAQ,EACRiC,IAAKH,IAEP,qBAAK1F,UAAU,8BAAf,SACE,sBAAMA,UAAU,yCCgCP8F,MAhEf,SAAuBtG,GAAQ,IACrB4E,EAA+B5E,EAA/B4E,OAAQC,EAAuB7E,EAAvB6E,QAAS0B,EAAcvG,EAAduG,UADG,EAGFpF,IAAM0B,SAAS,IAHb,mBAGrB2D,EAHqB,KAGdC,EAHc,OAQJtF,IAAM0B,SAAS,IARX,mBAQrBlB,EARqB,KAQf+E,EARe,KAuB5B,OACE,eAAC,EAAD,CACE9B,OAAQA,EACRC,QAASA,EACThB,SAdJ,SAAsBC,GACpBA,EAAEC,iBACFwC,EAAU,CACR7E,KAAM8E,EACN7E,SAEF8E,EAAS,IACTC,EAAQ,KAQNrB,MAAM,gEACN3D,KAAK,gBACL4D,WAAW,yDANb,UAQE,uBACExE,KAAK,OACLN,UAAU,oBACV0D,GAAG,QACHxC,KAAK,QACLyC,YAAY,mDACZC,UAAQ,EACR0B,UAAU,IACVC,UAAU,KACV1B,MAAOmC,EACPlC,SAtCN,SAA2BR,GACzB2C,EAAS3C,EAAES,OAAOF,UAuChB,qBAAK7D,UAAU,8BAAf,SACE,sBAAMA,UAAU,oCAElB,uBACEM,KAAK,MACLN,UAAU,oBACV0D,GAAG,OACHxC,KAAK,OACLyC,YAAY,qGACZC,UAAQ,EACRC,MAAO1C,EACP2C,SA9CN,SAA0BR,GACxB4C,EAAQ5C,EAAES,OAAOF,UA+Cf,qBAAK7D,UAAU,8BAAf,SACE,sBAAMA,UAAU,uCCrCTmG,MArBf,SAAqB3G,GAAQ,IACnB4E,EAA8B5E,EAA9B4E,OAAQC,EAAsB7E,EAAtB6E,QAAShB,EAAa7D,EAAb6D,SAOzB,OACE,cAAC,EAAD,CACEe,OAAQA,EACRC,QAASA,EACThB,SATJ,SAAsBC,GACpBA,EAAEC,iBACFF,KAQEwB,MAAM,2DACN3D,KAAK,gBACL4D,WAAW,wE,gBClBXsB,E,WACJ,cAAmC,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,QAAW,oBAChCC,KAAKC,SAAWH,EAChBE,KAAKE,SAAWH,E,2CAGlB,SAAQI,GACN,OAAIA,GAAmDH,KAAKE,W,yBAG9D,SAAYE,EAAQC,EAAQC,EAAMH,GAChC,MAAe,QAAXE,EACKE,MAAM,GAAD,OAAIP,KAAKC,UAAT,OAAoBG,GAAU,CACxCC,OAAQA,EACRN,QAASC,KAAKQ,QAAQL,KACrBM,MAAK,SAACC,GACP,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,YAGhCR,MAAM,GAAD,OAAIP,KAAKC,UAAT,OAAoBG,GAAU,CACxCC,OAAQA,EACRN,QAASC,KAAKQ,QAAQL,GACtBG,KAAMU,KAAKC,UAAUX,KACpBG,MAAK,SAACC,GACP,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,c,oBAK3C,SAAOG,GACL,OAAOlB,KAAKmB,YAAY,UAAW,OAAQ,CACzCxE,SAAUuE,EAAKvE,SACfzD,MAAOgI,EAAKhI,U,oBAIhB,SAAOgI,GACL,OAAOlB,KAAKmB,YAAY,UAAW,OAAQ,CACzCxE,SAAUuE,EAAKvE,SACfzD,MAAOgI,EAAKhI,U,wBAIhB,WACE,OAAO8G,KAAKmB,YAAY,YAAa,MAAO,KAAM,CAChD,eAAgB,mBAChB,+BAA4BC,aAAaC,QAAQ,c,yBAIrD,WACE,OAAOrB,KAAKmB,YAAY,YAAa,S,4BAGvC,SAAeG,GACb,OAAOtB,KAAKmB,YAAY,YAAa,QAAS,CAC5CxG,KAAM2G,EAAS3G,KACfyB,MAAOkF,EAASlF,U,0BAIpB,SAAamF,GACX,OAAOvB,KAAKmB,YAAY,mBAAoB,QAAS,CACnDlF,OAAQsF,M,6BAIZ,WACE,OAAOvB,KAAKmB,YAAY,SAAU,S,wBAGpC,SAAW5G,GACT,OAAOyF,KAAKmB,YAAY,SAAU,OAAQ,CACxCxG,KAAMJ,EAAKI,KACXC,KAAML,EAAKK,S,yBAIf,SAAYuC,GACV,OAAO6C,KAAKmB,YAAL,uBAAiChE,GAAM,S,4BAGhD,SAAeA,GACb,OAAO6C,KAAKmB,YAAL,uBAAiChE,GAAM,Y,wBAGhD,SAAWA,GACT,OAAO6C,KAAKmB,YAAL,iBAA2BhE,GAAM,c,KAI/BqE,EAAM,IAAI3B,EAAI,CACzBC,QAAS,8CACTC,QAAS,CACP0B,cAAe,uCACf,eAAgB,sBAIPC,EAAU,IAAI7B,EAAI,CAC7BC,QAAS,gCACTC,QAAS,CACP,eAAgB,sB,QC/FL4B,EAVQ,SAAC,GAAwC,IAA3BC,EAA0B,EAArCC,UAAyB5I,EAAY,6BAC7D,OACE,cAAC,IAAD,UACG,kBACCA,EAAME,SAAW,cAACyI,EAAD,eAAe3I,IAAY,cAAC,IAAD,CAAUS,GAAG,kBC6YlDoI,MA9Xf,WAEE,IAAMC,EAAUC,cAFH,EAKmB5H,IAAM0B,UAAS,GALlC,mBAKN3C,EALM,KAKI8I,EALJ,OAMa7H,IAAM0B,SAAS,IAN5B,mBAMND,EANM,KAMCqG,EAND,OAOqB9H,IAAM0B,UAAS,GAPpC,mBAONzC,EAPM,KAOM8I,EAPN,OAWiB/H,IAAM0B,UAAS,WAC3C,OAAIsG,OAAOC,WAAa,OAZb,mBAWN9I,EAXM,KAWI+I,EAXJ,OAoBalI,IAAM0B,SAAS,oBApB5B,mBAoBN5C,EApBM,KAoBCwD,EApBD,OAqByBtC,IAAM0B,SAAS,CACnDG,OACE,kFACFtB,KAAM,iEACNyB,MAAO,wHAzBI,mBAqBNtB,EArBM,KAqBOyH,EArBP,OA6B2BnI,IAAM0B,UAAS,GA7B1C,mBA6BN0G,EA7BM,KA6BSC,EA7BT,OA8B6BrI,IAAM0B,UAAS,GA9B5C,mBA8BN4G,EA9BM,KA8BSC,GA9BT,QA+B+BvI,IAAM0B,SAAS,IA/B9C,qBA+BN8G,GA/BM,MA+BUC,GA/BV,SAgC2CzI,IAAM0B,UAAS,GAhC1D,qBAgCNgH,GAhCM,MAgCiBC,GAhCjB,SAiCqC3I,IAAM0B,UAAS,GAjCpD,qBAiCNkH,GAjCM,MAiCcC,GAjCd,SAkCuC7I,IAAM0B,UAAS,GAlCtD,qBAkCNoH,GAlCM,MAkCeC,GAlCf,SAmC2B/I,IAAM0B,SAAS,IAnC1C,qBAmCNsH,GAnCM,MAmCQC,GAnCR,SAoCyBjJ,IAAM0B,UAAS,GApCxC,qBAoCNwH,GApCM,MAoCQC,GApCR,MAuCb,SAASC,KACPT,IAAuB,GACvBE,IAAoB,GACpBE,IAAqB,GACrBV,GAAe,GACfI,GAAkB,IAClBQ,GAAgB,IAChBE,IAAc,GAGhB,SAASE,GAAkB1F,EAAQC,GACjC2E,GAAiB5E,GACjB0E,GAAe,GACfI,GAAkB7E,GAyDpB,SAASvB,GAASyE,GAChBQ,EACGgC,OAAOxC,GACPT,MAAK,SAACC,GACLU,aAAauC,QAAQ,QAASjD,EAAIkD,OAClC3B,GAAY,GACZvF,EAASwE,EAAKhI,UAEfuH,MAAK,WACJsB,EAAQ8B,KAAK,aAEdC,OAAM,SAACC,GACNN,IAAkB,EAAD,oHAAgCM,OAIvD,SAAS3K,KACP6I,GAAY,GACZE,GAAY,GACZf,aAAa4C,WAAW,SAnD1B5J,IAAM0E,WAAU,WACd,IAAMmF,EAAa,SAAChG,GACF,WAAZA,EAAIiG,KACNV,MAMJ,OAFAW,SAASC,iBAAiB,UAAWH,GAE9B,WACLE,SAASE,oBAAoB,UAAWJ,MAEzC,IAzFU,OAyLsB7J,IAAM0B,SAAS,IAzLrC,qBAyLNwI,GAzLM,MAyLQC,GAzLR,MAsTb,OA/DAnK,IAAM0E,WAAU,WACVsC,aAAaC,QAAQ,UACvBK,EACG8C,aACA/D,MAAK,SAACS,GACLxE,EAASwE,EAAKA,KAAKhI,OACnB+I,GAAY,MAEbxB,MAAK,WACJsB,EAAQ8B,KAAK,aAEdC,OAAM,SAACC,GACN9B,GAAY,GACZwB,IAAkB,EAAD,wJAAsCM,SAG5D,IAEH3J,IAAM0E,WAAU,WACd0C,EACGiD,cACAhE,MAAK,SAACS,GACLqB,EAAerB,MAEhB4C,OAAM,SAACC,GACNN,IACE,EADe,wOAE8BM,SAGlD,CAAC7K,IAEJkB,IAAM0E,WAAU,WACd0C,EACGkD,kBACAjE,MAAK,SAACS,GACLgB,EAAShB,MAEV4C,OAAM,SAACC,GACNN,IACE,EADe,6NAE6BM,SAGjD,CAAC7K,IAEJkB,IAAM0E,WAAU,WACd,IAAM6F,EAAiB,WACjBvC,OAAOC,WAAa,IACtBC,GAAU,IAEVA,GAAU,GACVH,GAAY,KAMhB,OAFAC,OAAOgC,iBAAiB,SAAUO,GAE3B,WACLvC,OAAOiC,oBAAoB,SAAUM,MAEtC,IAGD,cAACxK,EAAmByK,SAApB,CAA6BtH,MAAOxC,EAApC,SACE,cAAC,IAAD,UAEI,sBAAKrB,UAAWJ,EAAa,wBAA0B,OAAvD,UACE,cAAC,EAAD,CAAeD,UAAWA,GAAWF,MAAOA,EAAOG,WAAYA,IAC/D,cAAC,EAAD,CACEH,MAAOA,EACPC,SAAUA,EACVC,UAAWA,GACXC,WAAYA,EACZC,iBAzTZ,WACE6I,GAAa9I,IAyTHE,SAAUA,IAEZ,cAAC,IAAD,CAAOsL,KAAK,WAAZ,SACE,cAAC,EAAD,CAAOpI,SAAUA,OAEnB,cAAC,IAAD,CAAOoI,KAAK,WAAZ,SACE,cAAC,EAAD,CAAUnH,SA5OtB,SAAkBwD,GAChBQ,EACGoD,OAAO5D,GACPT,MAAK,WACJgD,IAAkB,MAEnBhD,MAAK,WACJsE,YAAW,WACTtI,GAASyE,GACTsC,OACC,SAEJM,OAAM,SAACC,GACNN,IAAkB,EAAD,kMAA6CM,YAiO1D,cAAC,EAAD,CACEc,KAAK,SACL1L,SAAUA,EACVuC,cAlRZ,WACEuH,IAAoB,IAkRVtH,WA/QZ,WACEwH,IAAqB,IA+QXvH,aAxRZ,WACEmH,IAAuB,IAwRblH,MAAOA,EACPrB,YA9QZ,SAAyBD,GACvB8I,GAAgB9I,IA8QNE,WA1HZ,SAAwBF,GAGtB,SAASyK,EAAYC,GACnB,IAAMC,EAAWrJ,EAAMQ,KAAI,SAAC8I,GAAD,OAAQA,EAAEjK,MAAQX,EAAKW,IAAM+J,EAAUE,KAClEjD,EAASgD,GAJK3K,EAAKM,MAAMQ,MAAK,SAACC,GAAD,OAAOA,EAAEJ,MAAQJ,EAAYI,OAQ3DsG,EACG4D,eAAe7K,EAAKW,KACpBuF,MAAK,SAACwE,GACLD,EAAYC,MAEbnB,OAAM,SAACC,GACNN,IAAkB,EAAD,mJAAsCM,OAG3DvC,EACG6D,YAAY9K,EAAKW,KACjBuF,MAAK,SAACwE,GACLD,EAAYC,MAEbnB,OAAM,SAACC,GACNN,IAAkB,EAAD,2HAAkCM,QAmG/CrJ,aA5QZ,SAAkBH,GAChBgJ,IAAc,GACdgB,GAAWhK,IA2QDhB,SAAUA,EACVsI,UAAWpG,IAEb,cAAC,IAAD,CAAOoJ,KAAK,IAAZ,SACG1L,EAAW,cAAC,IAAD,CAAUO,GAAG,WAAc,cAAC,IAAD,CAAUA,GAAG,eAGtD,cAAC,EAAD,IACA,cAAC,EAAD,CACEmE,OAAQ2E,EACR1E,QAAS0F,GACTzF,OAAQ2E,EACR1E,QAAS4E,KAEX,cAAC,EAAD,CACE/E,OAAQiF,GACRhF,QAAS0F,GACTtE,eA/MZ,SAA4BgC,GAC1BM,EACG8D,aAAapE,EAAKjF,QAClBwE,MAAK,WACJ8B,EAAe,2BACVzH,GADS,IAEZmB,OAAQiF,EAAKjF,aAGhBwE,MAAK,WACJ+C,QAEDM,OAAM,SAACC,GACNP,KACAC,IAAkB,EAAD,yJAAuCM,UAmMpD,cAAC,EAAD,CACElG,OAAQmF,GACRlF,QAAS0F,GACT9E,aAtOZ,SAA0BwC,GACxBM,EACG+D,eAAerE,GACfT,MAAK,SAACS,GACLqB,EAAerB,MAEhBT,MAAK,WACJ+C,QAEDM,OAAM,SAACC,GACNP,KACAC,IACE,EADe,kOAE6BM,UA2N1C,cAAC,EAAD,CACElG,OAAQqF,GACRpF,QAAS0F,GACThE,UArMZ,SAAwB0B,GACtBM,EACGgE,WAAWtE,GACXT,MAAK,SAACwE,GACL/C,EAAS,CAAC+C,GAAF,mBAAcpJ,QAEvB4E,MAAK,WACJ+C,QAEDM,OAAM,SAACC,GACNP,KACAC,IAAkB,EAAD,qKAAyCM,UA4LtD,cAAC,EAAD,CAAYjG,QAAS0F,GAAgBjJ,KAAM6I,KAC3C,cAAC,EAAD,CACEvF,OAAQyF,GACRxF,QAAS0F,GACT1G,SAzLZ,WACgBwH,GAAarJ,MAAMC,MAAQJ,EAAYI,IAEnDsG,EACGiE,WAAWnB,GAAapJ,KACxBuF,MAAK,WACJ,IAAMyE,EAAWrJ,EAAM6J,QAAO,SAACP,GAC7B,OAAIA,EAAEjK,MAAQoJ,GAAapJ,OAM7BgH,EAASgD,MAEVpB,OAAM,SAACC,GACNN,IAAkB,EAAD,+JAAwCM,OAG7DN,IACE,EADe,oXAKnBc,GAAW,IACXf,gBC/NWmC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBpF,MAAK,YAAkD,IAA/CqF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAeC,SAAUC,oBAAzB,SACE,cAAC,EAAD,QAGJpC,SAASqC,eAAe,SAM1Bb,M","file":"static/js/main.abc499f3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-white.1f1e9591.svg\";","import React from 'react'\nimport logo from '../images/logo-white.svg'\nimport { Link, NavLink } from 'react-router-dom'\n\nfunction Header(props) {\n  const { email, loggedIn, onSignOut, isMenuOpen, prepareHamburger, isMobile } = props\n\n\n\n  const signedOut = (\n    <nav className=\"nav\">\n      <NavLink\n        to=\"/sign-up\"\n        className=\"nav__link button\"\n        activeClassName=\"nav__link_hidden\"\n      >\n        Регистрация\n      </NavLink>\n      <NavLink\n        to=\"/sign-in\"\n        className=\"nav__link button\"\n        activeClassName=\"nav__link_hidden\"\n      >\n        Войти\n      </NavLink>\n    </nav>\n  )\n\n  const signedInDesktop = (\n    <nav className=\"nav\">\n      <p className=\"nav__mail\">{email}</p>\n      <Link\n        to=\"/sign-in\"\n        className=\"nav__link button shadow\"\n        onClick={onSignOut}\n      >\n        Выйти\n      </Link>\n    </nav>\n  )\n\n  const signedInMobile = (\n  <nav className=\"nav\">\n\n    <button className=\"nav__button\" type=\"button\" onClick={prepareHamburger}>\n      <div className={`nav__button-line ${isMenuOpen && 'nav__button-line_closing'}`}></div>\n      <div className={`nav__button-line ${isMenuOpen && 'nav__button-line_closing'}`}></div>\n      <div className={`nav__button-line ${isMenuOpen && 'nav__button-line_closing'}`}></div>\n    </button>\n  </nav>)\n\n  function menu() {\n    if (!loggedIn) {\n      return signedOut\n    } else if (!isMobile) {\n      return signedInDesktop\n    } else {\n      return signedInMobile\n    }\n  }\n\n  return (\n    <>\n\n      <header className=\"header\">\n        <img\n          src={logo}\n          alt=\"Логотип: надпись Mesto.Russia\"\n          className=\"header__logo\"\n        />\n\n        {menu()}\n      </header>\n    </>\n  )\n}\n\nexport default Header\n","import React from 'react'\n\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card(props) {\n  const { card, onCardClick, onCardLike, onCardDelete } = props\n  const { name, link, likes } = card\n\n  function handleClick() {\n    onCardClick(card)\n  }\n\n  function handleLileClick() {\n    onCardLike(card)\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card)\n  }\n\n  const currentUser = React.useContext(CurrentUserContext)\n\n  const isOwn = card.owner._id === currentUser._id\n\n  const cardDeleteButtonClassName = `button card__trash-button ${\n    !isOwn && 'card__trash-button_hidden'\n  }`\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id)\n\n  const cardLikeButtonClassName = `button card__like ${\n    isLiked && 'card__like_active'\n  }`\n\n  return (\n    <li className=\"card\">\n      <img\n        src={link}\n        className=\"card__image button\"\n        alt={name}\n        onClick={handleClick}\n      />\n      <div className=\"card__alt\">\n        <h2 className=\"card__title\">{name}</h2>\n        <div className=\"card__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            onClick={handleLileClick}\n          />\n          <p className=\"card__like-number\">{likes.length}</p>\n        </div>\n      </div>\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      />\n    </li>\n  )\n}\n\nexport default Card\n","import React from 'react'\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Main(props) {\n  const {\n    onEditProfile,\n    onAddPlace,\n    onEditAvatar,\n    cards,\n    onCardClick,\n    onCardLike,\n    onCardDelete,\n    isMobile\n  } = props\n\n\n  const [avatarEditIcon, setAvatarEditIcon] = React.useState(false)\n  function showAvatarEditIcon() {\n   setAvatarEditIcon(true)\n\n  }\n  function hideAvatarEditIcon() {\n    setAvatarEditIcon(false)\n  }\n\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img\n            src={currentUser.avatar}\n            alt=\"Аватар\"\n            className=\"profile__avatar\"\n            onMouseEnter={(!isMobile) ? showAvatarEditIcon : null}\n            onClick={isMobile ? onEditAvatar : null}\n          />\n          <div\n            className={`profile__avatar-edit-button ${\n              avatarEditIcon ? 'profile__avatar-edit-button_visible' : ''\n            }`}\n            onClick={onEditAvatar}\n            onMouseLeave={hideAvatarEditIcon}\n          ></div>\n        </div>\n        <div className=\"profile__info-container\">\n          <div className=\"profile__name-container\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              className=\"profile__edit-button button\"\n              onClick={onEditProfile}\n            />\n          </div>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__add-button button\"\n          onClick={onAddPlace}\n        />\n      </section>\n      <section className=\"cards\">\n        <ul className=\"cards__list\">\n          {cards.map((item) => (\n            <Card\n              card={item}\n              key={item._id}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\nexport default Main\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&#169; 2021 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react'\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\n\nfunction Login(props) {\n\n  const { onSignIn } = props;\n\n  const [email, setEmail] = React.useState('')\n  function handleChangeEmail(e) {\n    setEmail(e.target.value)\n  }\n\n  const [password, setPassword] = React.useState('')\n  function handleChangePassword(e) {\n    setPassword(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log('делаю запрос')\n    onSignIn({\n      password,\n      email\n    })\n  }\n\n  return (\n    <main className=\"content\">\n      <div className=\"login-container\">\n        <form className=\"login-form\" noValidate onSubmit={handleSubmit}>\n          <h2 className=\"login-form__title\">Вход</h2>\n          <input\n            type=\"email\"\n            className=\"login-form__input\"\n            id=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n            value={email}\n            onChange={handleChangeEmail}\n          />\n          <div className=\"popup__form-error-container\">\n            <span className=\"email-error popup__form-error\"></span>\n          </div>\n          <input\n            type=\"password\"\n            className=\"login-form__input\"\n            id=\"password\"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n            value={password}\n            onChange={handleChangePassword}\n          />\n          <div className=\"popup__form-error-container\">\n            <span className=\"password-error popup__form-error\"></span>\n          </div>\n          <button type=\"submit\" className=\"login-form__button button\">\n            Войти\n          </button>\n        </form>\n      </div>\n    </main>\n  )\n}\n\nexport default Login;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n\nfunction Register(props) {\n\n  const { onSignUp } = props;\n\n  const [email, setEmail] = React.useState('')\n  function handleChangeEmail(e) {\n    setEmail(e.target.value)\n  }\n\n  const [password, setPassword] = React.useState('')\n  function handleChangePassword(e) {\n    setPassword(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log('делаю запрос')\n    onSignUp({\n      password,\n      email\n    })\n  }\n\n  return (\n    <main className=\"content\">\n      <div className=\"login-container\">\n        <form className=\"login-form\" noValidate onSubmit={handleSubmit}>\n          <h2 className=\"login-form__title\">Регистрация</h2>\n          <input\n            type=\"email\"\n            className=\"login-form__input\"\n            id=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n            value={email}\n            onChange={handleChangeEmail}\n          />\n          <div className=\"popup__form-error-container\">\n            <span className=\"email-error popup__form-error\"></span>\n          </div>\n          <input\n            type=\"password\"\n            className=\"login-form__input\"\n            id=\"password\"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n            value={password}\n            onChange={handleChangePassword}\n          />\n          <div className=\"popup__form-error-container\">\n            <span className=\"password-error popup__form-error\"></span>\n          </div>\n          <button type=\"submit\" className=\"login-form__button button\" >\n            Зарегистрироваться\n          </button>\n          <Link className=\"login-form__bottomlink button\" to=\"/sign-in\">Уже зарегистрированы? Войти</Link>\n        </form>\n      </div>\n    </main>\n  )\n}\n\nexport default Register;\n","import React from 'react'\n\n\nfunction HamburgerMenu(props) {\n  const { onSignOut, email, isMenuOpen } = props\n\n  return (\n    <div className={isMenuOpen ? 'nav__container nav__container_active' : 'nav__container'}>\n    <p className=\"nav__item\">{email}</p>\n    <p\n      className=\"nav__item button shadow\"\n      onClick={onSignOut}\n    >\n      Выйти\n    </p>\n  </div>\n  )\n}\n\nexport default HamburgerMenu;\n","import React from 'react';\nimport sucess from '../images/sucess.png';\nimport fail from '../images/fail.png';\n\nfunction PopupWithTooltip(props) {\n  const { isOpen, onClose, result, message } = props;\n\n  function handleOverlayClose(evt) {\n    if (evt.target.classList.contains('popup')) {onClose()}\n  }\n\n  return (\n    <div className={`popup ${isOpen && 'popup_opened'}`} onClick={handleOverlayClose} >\n      <div className=\"popup__container popup__container_tooltip\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button button\"\n          onClick={onClose}\n        ></button>\n        <img src={result ? sucess : fail} className='popup__tooltip-image' alt={result ? 'Успех!' : 'Ошибка!'}/>\n        <h2 className=\"popup__tooltip-title\">{result ? 'Вы успешно зарегистрировались!' : `Что-то пошло не так!\nПопробуйте ещё раз.`}</h2>\n        <p className=\"popup__tooltip-message\">{message}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithTooltip;\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react';\n\nfunction ImagePopup(props) {\n  const { card, onClose } = props;\n  const { _id, link, name } = card;\n\n  function handleOverlayClose(evt) {\n    if (evt.target.classList.contains('popup')) {onClose()}\n  }\n\n  return (\n    <div\n      className={`popup popup_dark ${_id ? 'popup_opened' : ''}`}\n      id=\"popup-bigpicture\"\n      onClick={handleOverlayClose}\n    >\n      <div className=\"popup__container popup__container_picture\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button button\"\n          onClick={onClose}\n        ></button>\n        <img src={link} className=\"popup__picture\" alt={name} />\n        <h2 className=\"popup__pic-title\">{name}</h2>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  const { isOpen, onClose, onSubmit, name, title, submitText, children } = props;\n\n  function handleOverlayClose(evt) {\n    if (evt.target.classList.contains('popup')) {onClose()}\n  }\n\n  return (\n    <div className={`popup ${isOpen ? 'popup_opened' : ''}`} id={name} onClick={handleOverlayClose} >\n      <div className=\"popup__container popup__container_form\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button button\"\n          onClick={onClose}\n        ></button>\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit} noValidate>\n          <h2 className=\"popup__form-title\">{title}</h2>\n          {children}\n          <button type=\"submit\" className=\"popup__form-submit-button button\">\n            {submitText}\n          </button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup(props) {\n  const { isOpen, onClose, onUpdateUser } = props\n  const currentUser = React.useContext(CurrentUserContext)\n\n  const [name, setName] = React.useState('')\n  function handleChangeName(e) {\n    setName(e.target.value)\n  }\n\n  const [description, setDescription] = React.useState('')\n  function handleChangeDescription(e) {\n    setDescription(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n\n    onUpdateUser({\n      name,\n      about: description,\n    })\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }, [currentUser])\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      title=\"Редактировать профиль\"\n      name=\"popup-profile\"\n      submitText=\"Сохранить\"\n    >\n      <input\n        type=\"text\"\n        className=\"popup__form-input\"\n        id=\"name\"\n        name=\"name\"\n        placeholder=\"Введите имя\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={name}\n        onChange={handleChangeName}\n      />\n      <div className=\"popup__form-error-container\">\n        <span className=\"name-error popup__form-error\"></span>\n      </div>\n      <input\n        type=\"text\"\n        className=\"popup__form-input\"\n        id=\"about\"\n        name=\"about\"\n        placeholder=\"А чем заниметесь?\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={description}\n        onChange={handleChangeDescription}\n      />\n      <div className=\"popup__form-error-container\">\n        <span className=\"about-error popup__form-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const { isOpen, onClose, onUpdateAvatar } = props;\n\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n    avatarRef.current.value = '';\n  }\n\n  return (\n    <PopupWithForm\n    isOpen={isOpen}\n    onClose={onClose}\n    onSubmit={handleSubmit}\n    title=\"Обновить аватар\"\n    name=\"popup-avatar\"\n    submitText=\"Сохранить\"\n  >\n    <input\n      type=\"url\"\n      className=\"popup__form-input\"\n      id=\"avatar\"\n      name=\"avatar\"\n      placeholder=\"Ссылка на аватар\"\n      required\n      ref={avatarRef}\n    />\n    <div className=\"popup__form-error-container\">\n      <span className=\"avatar-error popup__form-error\"></span>\n    </div>\n  </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup(props) {\n  const { isOpen, onClose, onAddCard } = props\n\n  const [place, setPlace] = React.useState('')\n  function handleChangePlace(e) {\n    setPlace(e.target.value)\n  }\n\n  const [link, setLink] = React.useState('')\n  function handleChangeLink(e) {\n    setLink(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onAddCard({\n      name: place,\n      link,\n    })\n    setPlace('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      title=\"Новое место\"\n      name=\"popup-addcard\"\n      submitText=\"Сохранить\"\n    >\n      <input\n        type=\"text\"\n        className=\"popup__form-input\"\n        id=\"place\"\n        name=\"place\"\n        placeholder=\"Название\"\n        required\n        minLength=\"2\"\n        maxLength=\"30\"\n        value={place}\n        onChange={handleChangePlace}\n      />\n      <div className=\"popup__form-error-container\">\n        <span className=\"place-error popup__form-error\"></span>\n      </div>\n      <input\n        type=\"url\"\n        className=\"popup__form-input\"\n        id=\"link\"\n        name=\"link\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        value={link}\n        onChange={handleChangeLink}\n      />\n      <div className=\"popup__form-error-container\">\n        <span className=\"link-error popup__form-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction SubmitPopup(props) {\n  const { isOpen, onClose, onSubmit } = props\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onSubmit()\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      title=\"Вы уверены?\"\n      name=\"popup-profile\"\n      submitText=\"Подтвердить\"\n    >\n    </PopupWithForm>\n  )\n}\n\nexport default SubmitPopup\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl\n    this._headers = headers\n  }\n\n  _header(customHeaders) {\n    if (customHeaders) {return customHeaders} else {return this._headers}\n  }\n\n  _apiRequest(urlEnd, method, body, customHeaders) {\n    if (method === 'GET') {\n      return fetch(`${this._baseUrl}${urlEnd}`, {\n        method: method,\n        headers: this._header(customHeaders),\n      }).then((res) => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n    } else {\n      return fetch(`${this._baseUrl}${urlEnd}`, {\n        method: method,\n        headers: this._header(customHeaders),\n        body: JSON.stringify(body),\n      }).then((res) => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n    }\n  }\n\n  signUp(data) {\n    return this._apiRequest('/signup', 'POST', {\n      password: data.password,\n      email: data.email\n    })\n  }\n\n  signIn(data) {\n    return this._apiRequest('/signin', 'POST', {\n      password: data.password,\n      email: data.email\n    })\n  }\n\n  checkToken() {\n    return this._apiRequest('/users/me', 'GET', null, {\n      'Content-Type': 'application/json',\n      'Authorization' : `Bearer ${localStorage.getItem('token')}`\n    })\n  }\n\n  getUserInfo() {\n    return this._apiRequest('/users/me', 'GET')\n  }\n\n  updateUserInfo(userInfo) {\n    return this._apiRequest('/users/me', 'PATCH', {\n      name: userInfo.name,\n      about: userInfo.about,\n    })\n  }\n\n  setNewAvatar(avatarUrl) {\n    return this._apiRequest('/users/me/avatar', 'PATCH', {\n      avatar: avatarUrl,\n    })\n  }\n\n  getInitialCards() {\n    return this._apiRequest('/cards', 'GET')\n  }\n\n  addNewCard(card) {\n    return this._apiRequest('/cards', 'POST', {\n      name: card.name,\n      link: card.link,\n    })\n  }\n\n  addCardLike(id) {\n    return this._apiRequest(`/cards/likes/${id}`, 'PUT')\n  }\n\n  removeCardLike(id) {\n    return this._apiRequest(`/cards/likes/${id}`, 'DELETE')\n  }\n\n  removeCard(id) {\n    return this._apiRequest(`/cards/${id}`, 'DELETE')\n  }\n}\n\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\n  headers: {\n    authorization: '0ea9232f-20d8-4231-b26e-2828aaef49f5',\n    'Content-Type': 'application/json',\n  },\n})\n\nexport const authApi = new Api({\n  baseUrl: 'https://auth.nomoreparties.co',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n})\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from 'react'\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom'\n\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\n\nimport Login from './Login.js'\nimport Register from './Register.js'\nimport HamburgerMenu from './HamburgerMenu.js'\n\nimport PopupWithTooltip from './PopupWithTooltip'\nimport ImagePopup from './ImagePopup'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport SubmitPopup from './SubmitPopup'\n\nimport { api, authApi } from '../utils/api'\nimport ProtectedRoute from './ProtectedRoute'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction App() {\n  //техническое\n  const history = useHistory()\n\n  //основные переменные\n  const [loggedIn, setLoggedIn] = React.useState(false)\n  const [cards, setCards] = React.useState([])\n  const [isMenuOpen, setMenuOpen] = React.useState(false)\n  function prepareHamburger() {\n    setMenuOpen(!isMenuOpen)\n  }\n  const [isMobile, setMobile] = React.useState(() => {\n    if (window.innerWidth < 620) {\n      return true\n    } else {\n      return false\n    }\n  })\n\n  //информация о пользователе\n  const [email, setEmail] = React.useState('arflit@gmail.com')\n  const [currentUser, setCurrentUser] = React.useState({\n    avatar:\n      'https://github.com/konjvpaljto/mesto/blob/master/src/images/avatar.jpg?raw=true',\n    name: 'Жак Ив-Кусто',\n    about: 'Исследователь океана',\n  })\n\n  //состояние попапов\n  const [isTooltipOpen, setTooltipOpen] = React.useState(false)\n  const [tooltipResult, setTooltipResult] = React.useState(false)\n  const [tooltipMessage, setTooltipMessage] = React.useState('')\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n  const [isProfilePopupOpen, setProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState({})\n  const [isSubmitOpen, setSubmitOpen] = React.useState(false)\n\n  //функции управления попапами\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false)\n    setProfilePopupOpen(false)\n    setAddPlacePopupOpen(false)\n    setTooltipOpen(false)\n    setTooltipMessage('')\n    setSelectedCard({})\n    setSubmitOpen(false)\n  }\n\n  function handleTooltipOpen(result, message) {\n    setTooltipResult(result)\n    setTooltipOpen(true)\n    setTooltipMessage(message)\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true)\n  }\n\n  function handleProfileClick() {\n    setProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true)\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function onSubmit(card) {\n    setSubmitOpen(true)\n    setDelCard(card)\n  }\n\n\n  React.useEffect(() => {\n    const onKeypress = (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups()\n      }\n    }\n\n    document.addEventListener('keydown', onKeypress)\n\n    return () => {\n      document.removeEventListener('keydown', onKeypress)\n    }\n  }, [])\n\n  //функции регистрации и авторизации\n  function onSignUp(data) {\n    authApi\n      .signUp(data)\n      .then(() => {\n        handleTooltipOpen(true)\n      })\n      .then(() => {\n        setTimeout(() => {\n          onSignIn(data)\n          closeAllPopups()\n        }, 1500)\n      })\n      .catch((err) => {\n        handleTooltipOpen(false, `Не получилось зарегистрироваться: ${err}`)\n      })\n  }\n\n  function onSignIn(data) {\n    authApi\n      .signIn(data)\n      .then((res) => {\n        localStorage.setItem('token', res.token)\n        setLoggedIn(true)\n        setEmail(data.email)\n      })\n      .then(() => {\n        history.push('/cards')\n      })\n      .catch((err) => {\n        handleTooltipOpen(false, `Не получилось войти: ${err}`)\n      })\n  }\n\n  function onSignOut() {\n    setLoggedIn(false)\n    setMenuOpen(false)\n    localStorage.removeItem('token')\n  }\n\n  //функции управления данными пользователя\n  function handleUpdateUser(data) {\n    api\n      .updateUserInfo(data)\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .then(() => {\n        closeAllPopups()\n      })\n      .catch((err) => {\n        closeAllPopups()\n        handleTooltipOpen(\n          false,\n          `Не удалось обновить данные пользователя: ${err}`\n        )\n      })\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .setNewAvatar(data.avatar)\n      .then(() => {\n        setCurrentUser({\n          ...currentUser,\n          avatar: data.avatar,\n        })\n      })\n      .then(() => {\n        closeAllPopups()\n      })\n      .catch((err) => {\n        closeAllPopups()\n        handleTooltipOpen(false, `Не удалось обновить аватар: ${err}`)\n      })\n  }\n\n  // Функции управления контентом\n\n  function handleAddPlace(data) {\n    api\n      .addNewCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards])\n      })\n      .then(() => {\n        closeAllPopups()\n      })\n      .catch((err) => {\n        closeAllPopups()\n        handleTooltipOpen(false, `Не удалось добавить карточку: ${err}`)\n      })\n  }\n\n  const [deletingCard, setDelCard] = React.useState({});\n\n\n  function handleCardDelete() {\n    const isOwn = deletingCard.owner._id === currentUser._id\n    if (isOwn) {\n      api\n        .removeCard(deletingCard._id)\n        .then(() => {\n          const newCards = cards.filter((c) => {\n            if (c._id === deletingCard._id) {\n              return false\n            } else {\n              return true\n            }\n          })\n          setCards(newCards)\n        })\n        .catch((err) => {\n          handleTooltipOpen(false, `Не удалось удалить карточку: ${err}`)\n        })\n    } else {\n      handleTooltipOpen(\n        false,\n        `Не удалось удалить карточку: вы не хозяин. Нечего на скрытые кнопки жать!`\n      )\n    }\n    setDelCard({})\n    closeAllPopups()\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id)\n\n    function updateCards(newCard) {\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c))\n      setCards(newCards)\n    }\n\n    if (isLiked) {\n      api\n        .removeCardLike(card._id)\n        .then((newCard) => {\n          updateCards(newCard)\n        })\n        .catch((err) => {\n          handleTooltipOpen(false, `Не удалось поставить лайк: ${err}`)\n        })\n    } else {\n      api\n        .addCardLike(card._id)\n        .then((newCard) => {\n          updateCards(newCard)\n        })\n        .catch((err) => {\n          handleTooltipOpen(false, `Не удалось снять лайк: ${err}`)\n        })\n    }\n  }\n\n  // Функции при загрузке страницы\n\n  React.useEffect(() => {\n    if (localStorage.getItem('token')) {\n      authApi\n        .checkToken()\n        .then((data) => {\n          setEmail(data.data.email)\n          setLoggedIn(true)\n        })\n        .then(() => {\n          history.push('/cards')\n        })\n        .catch((err) => {\n          setLoggedIn(false)\n          handleTooltipOpen(false, `Не удалось авторизоваться: ${err}`)\n        })\n    }\n  }, [])\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .catch((err) => {\n        handleTooltipOpen(\n          false,\n          `Не удалось загрузить данные пользователя: ${err}`\n        )\n      })\n  }, [email])\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(data)\n      })\n      .catch((err) => {\n        handleTooltipOpen(\n          false,\n          `Не удалось загрузить карточки с сервера: ${err}`\n        )\n      })\n  }, [email])\n\n  React.useEffect(() => {\n    const onScreenChange = () => {\n      if (window.innerWidth < 620) {\n        setMobile(true)\n      } else {\n        setMobile(false);\n        setMenuOpen(false);\n      }\n    }\n\n    window.addEventListener('resize', onScreenChange)\n\n    return () => {\n      window.removeEventListener('resize', onScreenChange)\n    }\n  }, [])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Switch>\n\n          <div className={isMenuOpen ? 'page page_menu_opened' : 'page'}>\n            <HamburgerMenu onSignOut={onSignOut} email={email} isMenuOpen={isMenuOpen} />\n            <Header\n              email={email}\n              loggedIn={loggedIn}\n              onSignOut={onSignOut}\n              isMenuOpen={isMenuOpen}\n              prepareHamburger={prepareHamburger}\n              isMobile={isMobile}\n            />\n            <Route path=\"/sign-in\">\n              <Login onSignIn={onSignIn} />\n            </Route>\n            <Route path=\"/sign-up\">\n              <Register onSignUp={onSignUp} />\n            </Route>\n            <ProtectedRoute\n              path=\"/cards\"\n              loggedIn={loggedIn}\n              onEditProfile={handleProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              cards={cards}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={onSubmit}\n              isMobile={isMobile}\n              component={Main}\n            />\n            <Route path=\"/\">\n              {loggedIn ? <Redirect to=\"/cards\" /> : <Redirect to=\"/sign-in\" />}\n            </Route>\n\n            <Footer />\n            <PopupWithTooltip\n              isOpen={isTooltipOpen}\n              onClose={closeAllPopups}\n              result={tooltipResult}\n              message={tooltipMessage}\n            />\n            <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar}\n            />\n            <EditProfilePopup\n              isOpen={isProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n            />\n            <AddPlacePopup\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              onAddCard={handleAddPlace}\n            />\n            <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n            <SubmitPopup\n              isOpen={isSubmitOpen}\n              onClose={closeAllPopups}\n              onSubmit={handleCardDelete}\n            />\n          </div>\n\n      </Switch>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}