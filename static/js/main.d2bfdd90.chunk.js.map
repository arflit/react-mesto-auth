{"version":3,"sources":["images/logo-white.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Login.js","components/Register.js","components/AddPlacePopup.js","utils/api.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","CurrentUserContext","React","createContext","Card","props","card","onCardClick","onCardLike","onCardDelete","name","link","likes","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","className","src","alt","onClick","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","useState","avatarEditIcon","setAvatarEditIcon","avatar","onMouseEnter","onMouseLeave","about","map","item","Login","onSignIn","email","setEmail","password","setPassword","noValidate","onSubmit","e","preventDefault","console","log","id","placeholder","required","value","onChange","target","Register","onSignUp","to","AddPlacePopup","Api","baseUrl","headers","this","_baseUrl","_headers","customHeaders","urlEnd","method","body","fetch","_header","then","res","ok","json","Promise","reject","status","JSON","stringify","data","_apiRequest","localStorage","getItem","userInfo","avatarUrl","api","authorization","authApi","ProtectedRoute","Component","component","loggedIn","App","history","useHistory","setLoggedIn","setCards","setCurrentUser","setTooltipOpen","setTooltipResult","setTooltipMessage","setEditAvatarPopupOpen","setProfilePopupOpen","setAddPlacePopupOpen","setSelectedCard","closeAllPopups","handleTooltipOpen","result","message","signIn","setItem","token","push","catch","err","useEffect","onKeypress","evt","key","document","addEventListener","removeEventListener","checkToken","getUserInfo","getInitialCards","Provider","path","signUp","setTimeout","updateCards","newCard","newCards","c","removeCardLike","addCardLike","removeCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","getElementById"],"mappings":"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","file":"static/js/main.d2bfdd90.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-white.1f1e9591.svg\";","import React from 'react'\nimport logo from '../images/logo-white.svg'\nimport { Link, NavLink } from 'react-router-dom'\n\nfunction Header(props) {\n  const { email, loggedIn, onSignOut } = props\n\n  return (\n    <header className=\"header\">\n      <img\n        src={logo}\n        alt=\"Логотип: надпись Mesto.Russia\"\n        className=\"header__logo\"\n      />\n      <div className=\"header__link-container\">\n        {loggedIn ? (\n          <>\n            <p className=\"header__mail\">{email}</p>\n            <Link\n              to=\"/sign-in\"\n              className=\"header__link button header__link_shadow\"\n              onClick={onSignOut}\n            >\n              Выйти\n            </Link>\n          </>\n        ) : (\n          <>\n            <NavLink\n              to=\"/sign-up\"\n              className=\"header__link button\"\n              activeClassName=\"header__link_hidden\"\n            >\n              Регистрация\n            </NavLink>\n            <NavLink\n              to=\"/sign-in\"\n              className=\"header__link button\"\n              activeClassName=\"header__link_hidden\"\n            >\n              Войти\n            </NavLink>\n          </>\n        )}\n      </div>\n    </header>\n  )\n}\n\nexport default Header\n","import React from 'react'\n\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card(props) {\n  const { card, onCardClick, onCardLike, onCardDelete } = props\n  const { name, link, likes } = card\n\n  function handleClick() {\n    onCardClick(card)\n  }\n\n  function handleLileClick() {\n    onCardLike(card)\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card)\n  }\n\n  const currentUser = React.useContext(CurrentUserContext)\n\n  const isOwn = card.owner._id === currentUser._id\n\n  const cardDeleteButtonClassName = `button card__trash-button ${\n    !isOwn && 'card__trash-button_hidden'\n  }`\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id)\n\n  const cardLikeButtonClassName = `button card__like ${\n    isLiked && 'card__like_active'\n  }`\n\n  return (\n    <li className=\"card\">\n      <img\n        src={link}\n        className=\"card__image button\"\n        alt={name}\n        onClick={handleClick}\n      />\n      <div className=\"card__alt\">\n        <h2 className=\"card__title\">{name}</h2>\n        <div className=\"card__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            onClick={handleLileClick}\n          />\n          <p className=\"card__like-number\">{likes.length}</p>\n        </div>\n      </div>\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      />\n    </li>\n  )\n}\n\nexport default Card\n","import React from 'react'\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Main(props) {\n  const {\n    onEditProfile,\n    onAddPlace,\n    onEditAvatar,\n    cards,\n    onCardClick,\n    onCardLike,\n    onCardDelete,\n  } = props\n\n\n  const [avatarEditIcon, setAvatarEditIcon] = React.useState(false)\n  function showAvatarEditIcon() {\n    setAvatarEditIcon(true)\n  }\n  function hideAvatarEditIcon() {\n    setAvatarEditIcon(false)\n  }\n\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img\n            src={currentUser.avatar}\n            alt=\"Аватар\"\n            className=\"profile__avatar\"\n            onMouseEnter={showAvatarEditIcon}\n          />\n          <div\n            className={`profile__avatar-edit-button ${\n              avatarEditIcon ? 'profile__avatar-edit-button_visible' : ''\n            }`}\n            onClick={onEditAvatar}\n            onMouseLeave={hideAvatarEditIcon}\n          ></div>\n        </div>\n        <div className=\"profile__info-container\">\n          <div className=\"profile__name-container\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              className=\"profile__edit-button button\"\n              onClick={onEditProfile}\n            />\n          </div>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__add-button button\"\n          onClick={onAddPlace}\n        />\n      </section>\n      <section className=\"cards\">\n        <ul className=\"cards__list\">\n          {cards.map((item) => (\n            <Card\n              card={item}\n              key={item._id}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\nexport default Main\n","import React from 'react'\n\n\nfunction Login(props) {\n\n  const { onSignIn } = props;\n\n  const [email, setEmail] = React.useState('')\n  function handleChangeEmail(e) {\n    setEmail(e.target.value)\n  }\n\n  const [password, setPassword] = React.useState('')\n  function handleChangePassword(e) {\n    setPassword(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log('делаю запрос')\n    onSignIn({\n      password,\n      email\n    })\n  }\n\n  return (\n    <main className=\"content\">\n      <div className=\"login-container\">\n        <form className=\"login-form\" noValidate onSubmit={handleSubmit}>\n          <h2 className=\"login-form__title\">Вход</h2>\n          <input\n            type=\"email\"\n            className=\"login-form__input\"\n            id=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n            value={email}\n            onChange={handleChangeEmail}\n          />\n          <div className=\"popup__form-error-container\">\n            <span className=\"email-error popup__form-error\"></span>\n          </div>\n          <input\n            type=\"password\"\n            className=\"login-form__input\"\n            id=\"password\"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n            value={password}\n            onChange={handleChangePassword}\n          />\n          <div className=\"popup__form-error-container\">\n            <span className=\"password-error popup__form-error\"></span>\n          </div>\n          <button type=\"submit\" className=\"login-form__button button\">\n            Войти\n          </button>\n        </form>\n      </div>\n    </main>\n  )\n}\n\nexport default Login;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n\nfunction Register(props) {\n\n  const { onSignUp } = props;\n\n  const [email, setEmail] = React.useState('')\n  function handleChangeEmail(e) {\n    setEmail(e.target.value)\n  }\n\n  const [password, setPassword] = React.useState('')\n  function handleChangePassword(e) {\n    setPassword(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log('делаю запрос')\n    onSignUp({\n      password,\n      email\n    })\n  }\n\n  return (\n    <main className=\"content\">\n      <div className=\"login-container\">\n        <form className=\"login-form\" noValidate onSubmit={handleSubmit}>\n          <h2 className=\"login-form__title\">Регистрация</h2>\n          <input\n            type=\"email\"\n            className=\"login-form__input\"\n            id=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n            value={email}\n            onChange={handleChangeEmail}\n          />\n          <div className=\"popup__form-error-container\">\n            <span className=\"email-error popup__form-error\"></span>\n          </div>\n          <input\n            type=\"password\"\n            className=\"login-form__input\"\n            id=\"password\"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n            value={password}\n            onChange={handleChangePassword}\n          />\n          <div className=\"popup__form-error-container\">\n            <span className=\"password-error popup__form-error\"></span>\n          </div>\n          <button type=\"submit\" className=\"login-form__button button\" >\n            Зарегистрироваться\n          </button>\n          <Link className=\"login-form__bottomlink button\" to=\"/sign-in\">Уже зарегистрированы? Войти</Link>\n        </form>\n      </div>\n    </main>\n  )\n}\n\nexport default Register;\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup(props) {\n  const { isOpen, onClose, onAddCard } = props\n\n  const [place, setPlace] = React.useState('')\n  function handleChangePlace(e) {\n    setPlace(e.target.value)\n  }\n\n  const [link, setLink] = React.useState('')\n  function handleChangeLink(e) {\n    setLink(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onAddCard({\n      name: place,\n      link,\n    })\n    setPlace('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      title=\"Новое место\"\n      name=\"popup-addcard\"\n      submitText=\"Сохранить\"\n    >\n      <input\n        type=\"text\"\n        className=\"popup__form-input\"\n        id=\"place\"\n        name=\"place\"\n        placeholder=\"Название\"\n        required\n        minLength=\"2\"\n        maxLength=\"30\"\n        value={place}\n        onChange={handleChangePlace}\n      />\n      <div className=\"popup__form-error-container\">\n        <span className=\"place-error popup__form-error\"></span>\n      </div>\n      <input\n        type=\"url\"\n        className=\"popup__form-input\"\n        id=\"link\"\n        name=\"link\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        value={link}\n        onChange={handleChangeLink}\n      />\n      <div className=\"popup__form-error-container\">\n        <span className=\"link-error popup__form-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl\n    this._headers = headers\n  }\n\n  _header(customHeaders) {\n    if (customHeaders) {return customHeaders} else {return this._headers}\n  }\n\n  _apiRequest(urlEnd, method, body, customHeaders) {\n    if (method === 'GET') {\n      return fetch(`${this._baseUrl}${urlEnd}`, {\n        method: method,\n        headers: this._header(customHeaders),\n      }).then((res) => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n    } else {\n      return fetch(`${this._baseUrl}${urlEnd}`, {\n        method: method,\n        headers: this._header(customHeaders),\n        body: JSON.stringify(body),\n      }).then((res) => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n    }\n  }\n\n  signUp(data) {\n    return this._apiRequest('/signup', 'POST', {\n      password: data.password,\n      email: data.email\n    })\n  }\n\n  signIn(data) {\n    return this._apiRequest('/signin', 'POST', {\n      password: data.password,\n      email: data.email\n    })\n  }\n\n  checkToken() {\n    return this._apiRequest('/users/me', 'GET', null, {\n      'Content-Type': 'application/json',\n      'Authorization' : `Bearer ${localStorage.getItem('token')}`\n    })\n  }\n\n  getUserInfo() {\n    return this._apiRequest('/users/me', 'GET')\n  }\n\n  updateUserInfo(userInfo) {\n    return this._apiRequest('/users/me', 'PATCH', {\n      name: userInfo.name,\n      about: userInfo.about,\n    })\n  }\n\n  setNewAvatar(avatarUrl) {\n    return this._apiRequest('/users/me/avatar', 'PATCH', {\n      avatar: avatarUrl,\n    })\n  }\n\n  getInitialCards() {\n    return this._apiRequest('/cards', 'GET')\n  }\n\n  addNewCard(card) {\n    return this._apiRequest('/cards', 'POST', {\n      name: card.name,\n      link: card.link,\n    })\n  }\n\n  addCardLike(id) {\n    return this._apiRequest(`/cards/likes/${id}`, 'PUT')\n  }\n\n  removeCardLike(id) {\n    return this._apiRequest(`/cards/likes/${id}`, 'DELETE')\n  }\n\n  removeCard(id) {\n    return this._apiRequest(`/cards/${id}`, 'DELETE')\n  }\n}\n\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\n  headers: {\n    authorization: '0ea9232f-20d8-4231-b26e-2828aaef49f5',\n    'Content-Type': 'application/json',\n  },\n})\n\nexport const authApi = new Api({\n  baseUrl: 'https://auth.nomoreparties.co',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n})\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from 'react'\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom'\n\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\n\nimport Login from './Login.js'\nimport Register from './Register.js'\n\nimport PopupWithTooltip from './PopupWithTooltip'\nimport ImagePopup from './ImagePopup'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\n\nimport { api, authApi } from '../utils/api'\nimport ProtectedRoute from './ProtectedRoute'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction App() {\n  //техническое\n  const history = useHistory()\n\n  //основные переменные\n  const [loggedIn, setLoggedIn] = React.useState(false)\n  const [cards, setCards] = React.useState([])\n\n  //информация о пользователе\n  const [email, setEmail] = React.useState('')\n  const [currentUser, setCurrentUser] = React.useState({\n    avatar:\n      'https://github.com/konjvpaljto/mesto/blob/master/src/images/avatar.jpg?raw=true',\n    name: 'Жак Ив-Кусто',\n    about: 'Исследователь океана',\n  })\n\n  //состояние попапов\n  const [isTooltipOpen, setTooltipOpen] = React.useState(false)\n  const [tooltipResult, setTooltipResult] = React.useState(false)\n  const [tooltipMessage, setTooltipMessage] = React.useState('')\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n  const [isProfilePopupOpen, setProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState({})\n\n  //функции управления попапами\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false)\n    setProfilePopupOpen(false)\n    setAddPlacePopupOpen(false)\n    setTooltipOpen(false)\n    setTooltipMessage('')\n    setSelectedCard({})\n  }\n\n  function handleTooltipOpen(result, message) {\n    setTooltipResult(result)\n    setTooltipOpen(true)\n    setTooltipMessage(message)\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true)\n  }\n\n  function handleProfileClick() {\n    setProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true)\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  React.useEffect(() => {\n    const onKeypress = (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups()\n      }\n    }\n\n    document.addEventListener('keydown', onKeypress)\n\n    return () => {\n      document.removeEventListener('keydown', onKeypress)\n    }\n  }, [])\n\n  //функции регистрации и авторизации\n  function onSignUp(data) {\n    authApi\n      .signUp(data)\n      .then(() => {\n        handleTooltipOpen(true)\n      })\n      .then(() => {\n        setTimeout(() => {\n          onSignIn(data)\n          closeAllPopups()\n        }, 1500)\n      })\n      .catch((err) => {\n        handleTooltipOpen(false, `Не получилось зарегистрироваться: ${err}`)\n      })\n  }\n\n  function onSignIn(data) {\n    authApi\n      .signIn(data)\n      .then((res) => {\n        localStorage.setItem('token', res.token)\n        setLoggedIn(true)\n        setEmail(data.email)\n      })\n      .then(() => {\n        history.push('/cards')\n      })\n      .catch((err) => {\n        handleTooltipOpen(false, `Не получилось войти: ${err}`)\n      })\n  }\n\n  function onSignOut() {\n    setLoggedIn(false)\n    localStorage.removeItem('token')\n  }\n\n  //функции управления данными пользователя\n  function handleUpdateUser(data) {\n    api\n      .updateUserInfo(data)\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .then(() => {\n        closeAllPopups()\n      })\n      .catch((err) => {\n        closeAllPopups()\n        handleTooltipOpen(\n          false,\n          `Не удалось обновить данные пользователя: ${err}`\n        )\n      })\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .setNewAvatar(data.avatar)\n      .then(() => {\n        setCurrentUser({\n          ...currentUser,\n          avatar: data.avatar,\n        })\n      })\n      .then(() => {\n        closeAllPopups()\n      })\n      .catch((err) => {\n        closeAllPopups()\n        handleTooltipOpen(false, `Не удалось обновить аватар: ${err}`)\n      })\n  }\n\n  // Функции управления контентом\n\n  function handleAddPlace(data) {\n    api\n      .addNewCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards])\n      })\n      .then(() => {\n        closeAllPopups()\n      })\n      .catch((err) => {\n        closeAllPopups()\n        handleTooltipOpen(false, `Не удалось добавить карточку: ${err}`)\n      })\n  }\n\n  function handleCardDelete(card) {\n    const isOwn = card.owner._id === currentUser._id\n    if (isOwn) {\n      api\n        .removeCard(card._id)\n        .then(() => {\n          const newCards = cards.filter((c) => {\n            if (c._id === card._id) {\n              return false\n            } else {\n              return true\n            }\n          })\n          setCards(newCards)\n        })\n        .catch((err) => {\n          handleTooltipOpen(false, `Не удалось удалить карточку: ${err}`)\n        })\n    } else {\n      handleTooltipOpen(\n        false,\n        `Не удалось удалить карточку: вы не хозяин. Нечего на скрытые кнопки жать!`\n      )\n    }\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id)\n\n    function updateCards(newCard) {\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c))\n      setCards(newCards)\n    }\n\n    if (isLiked) {\n      api\n        .removeCardLike(card._id)\n        .then((newCard) => {\n          updateCards(newCard)\n        })\n        .catch((err) => {\n          handleTooltipOpen(false, `Не удалось поставить лайк: ${err}`)\n        })\n    } else {\n      api\n        .addCardLike(card._id)\n        .then((newCard) => {\n          updateCards(newCard)\n        })\n        .catch((err) => {\n          handleTooltipOpen(false, `Не удалось снять лайк: ${err}`)\n        })\n    }\n  }\n\n  // Функции при загрузке страницы\n\n  React.useEffect(() => {\n    if (localStorage.getItem('token')) {\n      authApi\n        .checkToken()\n        .then((data) => {\n          setEmail(data.data.email)\n          setLoggedIn(true)\n        })\n        .then(() => {\n          history.push('/cards')\n        })\n        .catch((err) => {\n          setLoggedIn(false)\n          handleTooltipOpen(false, `Не удалось авторизоваться: ${err}`)\n        })\n    }\n  }, [])\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .catch((err) => {\n        handleTooltipOpen(\n          false,\n          `Не удалось загрузить данные пользователя: ${err}`\n        )\n      })\n  }, [email])\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(data)\n      })\n      .catch((err) => {\n        handleTooltipOpen(\n          false,\n          `Не удалось загрузить карточки с сервера: ${err}`\n        )\n      })\n  }, [email])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Switch>\n     {/*  <div className=\"page\">\n        <Header email={email} loggedIn={loggedIn} onSignOut={onSignOut} /> */}\n\n          <Route path=\"/sign-in\">\n            <Login onSignIn={onSignIn} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register onSignUp={onSignUp} />\n          </Route>\n          <ProtectedRoute\n            path=\"/cards\"\n            loggedIn={loggedIn}\n            onEditProfile={handleProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            cards={cards}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            component={Main}\n          />\n          <Route path=\"/\">\n            {loggedIn ? <Redirect to=\"/cards\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n\n        {/* <Footer />\n        <PopupWithTooltip\n          isOpen={isTooltipOpen}\n          onClose={closeAllPopups}\n          result={tooltipResult}\n          message={tooltipMessage}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <EditProfilePopup\n          isOpen={isProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddCard={handleAddPlace}\n        />\n        <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n      </div> */}\n      </Switch>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}