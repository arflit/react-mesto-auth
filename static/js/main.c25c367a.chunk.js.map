{"version":3,"sources":["images/logo-white.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Login.js","components/Register.js","components/HamburgerMenu.js","components/popups/PopupWithTooltip.js","images/sucess.png","images/fail.png","components/popups/ImagePopup.js","components/popups/PopupWithForm.js","components/popups/EditProfilePopup.js","components/popups/EditAvatarPopup.js","components/popups/AddPlacePopup.js","components/popups/SubmitPopup.js","utils/api.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","email","loggedIn","onSignOut","isMenuOpen","prepareHamburger","isMobile","signedOut","className","to","activeClassName","signedInDesktop","onClick","signedInMobile","type","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","name","link","likes","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","useState","avatarEditIcon","setAvatarEditIcon","onMouseEnter","onMouseLeave","avatar","about","map","item","Footer","Login","onSignIn","setEmail","password","setPassword","noValidate","onSubmit","e","preventDefault","console","log","id","placeholder","required","value","onChange","target","Register","onSignUp","HamburgerMenu","PopupWithTooltip","state","onClose","open","result","message","evt","classList","contains","ImagePopup","PopupWithForm","isOpen","title","submitText","children","EditProfilePopup","onUpdateUser","setName","description","setDescription","useEffect","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddCard","place","setPlace","setLink","SubmitPopup","Api","baseUrl","headers","this","_baseUrl","_headers","customHeaders","urlEnd","method","body","fetch","credentials","_header","then","res","ok","json","Promise","reject","status","JSON","stringify","data","_apiRequest","localStorage","getItem","userInfo","avatarUrl","api","authorization","authApi","ProtectedRoute","Component","component","App","history","useHistory","setLoggedIn","setCards","setMenuOpen","window","innerWidth","setMobile","setCurrentUser","selectedCard","setSelectedCard","tooltipPopupState","setTooltipPopupState","avatarPopupState","setAvatarPopupState","profilePopupState","setProfilePopupState","submitPopupState","setSubmitPopupState","addPlacePopupState","setAddPlacePopupState","closeAllPopups","handleTooltipOpen","signIn","setItem","token","push","catch","err","removeItem","onKeypress","key","document","addEventListener","removeEventListener","deletingCard","setDelCard","checkToken","getUserInfo","getInitialCards","onScreenChange","Provider","path","signUp","setTimeout","updateCards","newCard","newCards","c","removeCardLike","addCardLike","setNewAvatar","updateUserInfo","addNewCard","removeCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","getElementById"],"mappings":"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","file":"static/js/main.c25c367a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-white.1f1e9591.svg\";","import React from 'react'\nimport logo from '../images/logo-white.svg'\nimport { Link, NavLink } from 'react-router-dom'\n\nfunction Header(props) {\n  const { email, loggedIn, onSignOut, isMenuOpen, prepareHamburger, isMobile } = props\n\n\n\n  const signedOut = (\n    <nav className=\"nav\">\n      <NavLink\n        to=\"/sign-up\"\n        className=\"nav__link button\"\n        activeClassName=\"nav__link_hidden\"\n      >\n        Регистрация\n      </NavLink>\n      <NavLink\n        to=\"/sign-in\"\n        className=\"nav__link button\"\n        activeClassName=\"nav__link_hidden\"\n      >\n        Войти\n      </NavLink>\n    </nav>\n  )\n\n  const signedInDesktop = (\n    <nav className=\"nav\">\n      <p className=\"nav__mail\">{email}</p>\n      <Link\n        to=\"/sign-in\"\n        className=\"nav__link button shadow\"\n        onClick={onSignOut}\n      >\n        Выйти\n      </Link>\n    </nav>\n  )\n\n  const signedInMobile = (\n  <nav className=\"nav\">\n\n    <button className=\"nav__button\" type=\"button\" onClick={prepareHamburger}>\n      <div className={`nav__button-line ${isMenuOpen && 'nav__button-line_closing'}`}></div>\n      <div className={`nav__button-line ${isMenuOpen && 'nav__button-line_closing'}`}></div>\n      <div className={`nav__button-line ${isMenuOpen && 'nav__button-line_closing'}`}></div>\n    </button>\n  </nav>)\n\n  function menu() {\n    if (!loggedIn) {\n      return signedOut\n    } else if (!isMobile) {\n      return signedInDesktop\n    } else {\n      return signedInMobile\n    }\n  }\n\n  return (\n    <>\n\n      <header className=\"header\">\n        <img\n          src={logo}\n          alt=\"Логотип: надпись Mesto.Russia\"\n          className=\"header__logo\"\n        />\n\n        {menu()}\n      </header>\n    </>\n  )\n}\n\nexport default Header\n","import React from 'react'\n\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card(props) {\n  const { card, onCardClick, onCardLike, onCardDelete } = props\n  const { name, link, likes } = card\n\n  function handleClick() {\n    onCardClick(card)\n  }\n\n  function handleLileClick() {\n    onCardLike(card)\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(card)\n  }\n\n  const currentUser = React.useContext(CurrentUserContext)\n\n  const isOwn = card.owner._id === currentUser._id\n\n  const cardDeleteButtonClassName = `button card__trash-button ${\n    !isOwn && 'card__trash-button_hidden'\n  }`\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id)\n\n  const cardLikeButtonClassName = `button card__like ${\n    isLiked && 'card__like_active'\n  }`\n\n  return (\n    <li className=\"card\">\n      <img\n        src={link}\n        className=\"card__image button\"\n        alt={name}\n        onClick={handleClick}\n      />\n      <div className=\"card__alt\">\n        <h2 className=\"card__title\">{name}</h2>\n        <div className=\"card__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            onClick={handleLileClick}\n          />\n          <p className=\"card__like-number\">{likes.length}</p>\n        </div>\n      </div>\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      />\n    </li>\n  )\n}\n\nexport default Card\n","import React from 'react'\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Main(props) {\n  const {\n    onEditProfile,\n    onAddPlace,\n    onEditAvatar,\n    cards,\n    onCardClick,\n    onCardLike,\n    onCardDelete,\n  } = props\n\n  const [avatarEditIcon, setAvatarEditIcon] = React.useState(false)\n  function showAvatarEditIcon() {\n    setAvatarEditIcon(true)\n  }\n  function hideAvatarEditIcon() {\n    setAvatarEditIcon(false)\n  }\n\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div\n          className=\"profile__avatar-container\"\n          onClick={onEditAvatar}\n          onMouseEnter={showAvatarEditIcon}\n          onMouseLeave={hideAvatarEditIcon}\n        >\n          <img\n            src={currentUser.avatar}\n            alt=\"Аватар\"\n            className=\"profile__avatar\"\n          />\n          <div\n            className={`profile__avatar-edit-button ${\n              avatarEditIcon ? 'profile__avatar-edit-button_visible' : ''\n            }`}\n          ></div>\n        </div>\n        <div className=\"profile__info-container\">\n          <div className=\"profile__name-container\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              className=\"profile__edit-button button\"\n              onClick={onEditProfile}\n            />\n          </div>\n          <p className=\"profile__about\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__add-button button\"\n          onClick={onAddPlace}\n        />\n      </section>\n      <section className=\"cards\">\n        <ul className=\"cards__list\">\n          {cards.map((item) => (\n            <Card\n              card={item}\n              key={item._id}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  )\n}\nexport default Main\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&#169; 2021 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react'\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\n\nfunction Login(props) {\n\n  const { onSignIn } = props;\n\n  const [email, setEmail] = React.useState('')\n  function handleChangeEmail(e) {\n    setEmail(e.target.value)\n  }\n\n  const [password, setPassword] = React.useState('')\n  function handleChangePassword(e) {\n    setPassword(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log('делаю запрос')\n    onSignIn({\n      password,\n      email\n    })\n  }\n\n  return (\n    <main className=\"content\">\n      <div className=\"login-container\">\n        <form className=\"login-form\" noValidate onSubmit={handleSubmit}>\n          <h2 className=\"login-form__title\">Вход</h2>\n          <input\n            type=\"email\"\n            className=\"login-form__input\"\n            id=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n            value={email}\n            onChange={handleChangeEmail}\n          />\n          <div className=\"popup__form-error-container\">\n            <span className=\"email-error popup__form-error\"></span>\n          </div>\n          <input\n            type=\"password\"\n            className=\"login-form__input\"\n            id=\"password\"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n            value={password}\n            onChange={handleChangePassword}\n          />\n          <div className=\"popup__form-error-container\">\n            <span className=\"password-error popup__form-error\"></span>\n          </div>\n          <button type=\"submit\" className=\"login-form__button button\">\n            Войти\n          </button>\n        </form>\n      </div>\n    </main>\n  )\n}\n\nexport default Login;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n\nfunction Register(props) {\n\n  const { onSignUp } = props;\n\n  const [email, setEmail] = React.useState('')\n  function handleChangeEmail(e) {\n    setEmail(e.target.value)\n  }\n\n  const [password, setPassword] = React.useState('')\n  function handleChangePassword(e) {\n    setPassword(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log('делаю запрос')\n    onSignUp({\n      password,\n      email\n    })\n  }\n\n  return (\n    <main className=\"content\">\n      <div className=\"login-container\">\n        <form className=\"login-form\" noValidate onSubmit={handleSubmit}>\n          <h2 className=\"login-form__title\">Регистрация</h2>\n          <input\n            type=\"email\"\n            className=\"login-form__input\"\n            id=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n            value={email}\n            onChange={handleChangeEmail}\n          />\n          <div className=\"popup__form-error-container\">\n            <span className=\"email-error popup__form-error\"></span>\n          </div>\n          <input\n            type=\"password\"\n            className=\"login-form__input\"\n            id=\"password\"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n            value={password}\n            onChange={handleChangePassword}\n          />\n          <div className=\"popup__form-error-container\">\n            <span className=\"password-error popup__form-error\"></span>\n          </div>\n          <button type=\"submit\" className=\"login-form__button button\" >\n            Зарегистрироваться\n          </button>\n          <Link className=\"login-form__bottomlink button\" to=\"/sign-in\">Уже зарегистрированы? Войти</Link>\n        </form>\n      </div>\n    </main>\n  )\n}\n\nexport default Register;\n","import React from 'react'\n\n\nfunction HamburgerMenu(props) {\n  const { onSignOut, email, isMenuOpen } = props\n\n  return (\n    <div className={isMenuOpen ? 'nav__container nav__container_active' : 'nav__container'}>\n    <p className=\"nav__item\">{email}</p>\n    <p\n      className=\"nav__item button shadow\"\n      onClick={onSignOut}\n    >\n      Выйти\n    </p>\n  </div>\n  )\n}\n\nexport default HamburgerMenu;\n","import React from 'react'\nimport sucess from '../../images/sucess.png'\nimport fail from '../../images/fail.png'\n\nfunction PopupWithTooltip(props) {\n  const { state, onClose } = props\n  const { open, result, message } = state\n\n  function handleOverlayClose(evt) {\n    if (evt.target.classList.contains('popup')) {\n      onClose()\n    }\n  }\n\n  return (\n    <div\n      className={`popup ${open ? 'popup_opened' : ''}`}\n      onClick={handleOverlayClose}\n    >\n      <div className=\"popup__container popup__container_tooltip\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button button\"\n          onClick={onClose}\n        ></button>\n        <img\n          src={result ? sucess : fail}\n          className=\"popup__tooltip-image\"\n          alt={result ? 'Успех!' : 'Ошибка!'}\n        />\n        <h2 className=\"popup__tooltip-title\">\n          {result\n            ? 'Вы успешно зарегистрировались!'\n            : `Что-то пошло не так!\nПопробуйте ещё раз.`}\n        </h2>\n        <p className=\"popup__tooltip-message\">{message}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithTooltip\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react';\n\nfunction ImagePopup(props) {\n  const { card, onClose } = props;\n  const { _id, link, name } = card;\n\n  function handleOverlayClose(evt) {\n    if (evt.target.classList.contains('popup')) {onClose()}\n  }\n\n  return (\n    <div\n      className={`popup popup_dark ${_id ? 'popup_opened' : ''}`}\n      id=\"popup-bigpicture\"\n      onClick={handleOverlayClose}\n    >\n      <div className=\"popup__container popup__container_picture\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button button\"\n          onClick={onClose}\n        ></button>\n        <img src={link} className=\"popup__picture\" alt={name} />\n        <h2 className=\"popup__pic-title\">{name}</h2>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  const { isOpen, onClose, onSubmit, name, title, submitText, children } = props;\n\n  function handleOverlayClose(evt) {\n    if (evt.target.classList.contains('popup')) {onClose()}\n  }\n\n  return (\n    <div className={`popup ${isOpen ? 'popup_opened' : ''}`} id={name} onClick={handleOverlayClose} >\n      <div className=\"popup__container popup__container_form\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button button\"\n          onClick={onClose}\n        ></button>\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit} noValidate>\n          <h2 className=\"popup__form-title\">{title}</h2>\n          {children}\n          <button type=\"submit\" className=\"popup__form-submit-button button\">\n            {submitText}\n          </button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext'\n\nfunction EditProfilePopup(props) {\n  const { state, onClose, onUpdateUser } = props\n  const { open } = state\n  const currentUser = React.useContext(CurrentUserContext)\n\n  const [name, setName] = React.useState('')\n  function handleChangeName(e) {\n    setName(e.target.value)\n  }\n\n  const [description, setDescription] = React.useState('')\n  function handleChangeDescription(e) {\n    setDescription(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n\n    onUpdateUser({\n      name,\n      about: description,\n    })\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }, [currentUser])\n\n  return (\n    <PopupWithForm\n      isOpen={open}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      title=\"Редактировать профиль\"\n      name=\"popup-profile\"\n      submitText=\"Сохранить\"\n    >\n      <input\n        type=\"text\"\n        className=\"popup__form-input\"\n        id=\"name\"\n        name=\"name\"\n        placeholder=\"Введите имя\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={name}\n        onChange={handleChangeName}\n      />\n      <div className=\"popup__form-error-container\">\n        <span className=\"name-error popup__form-error\"></span>\n      </div>\n      <input\n        type=\"text\"\n        className=\"popup__form-input\"\n        id=\"about\"\n        name=\"about\"\n        placeholder=\"А чем заниметесь?\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={description}\n        onChange={handleChangeDescription}\n      />\n      <div className=\"popup__form-error-container\">\n        <span className=\"about-error popup__form-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const { state, onClose, onUpdateAvatar } = props;\n  const { open } = state;\n\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n    avatarRef.current.value = '';\n  }\n\n  return (\n    <PopupWithForm\n    isOpen={open}\n    onClose={onClose}\n    onSubmit={handleSubmit}\n    title=\"Обновить аватар\"\n    name=\"popup-avatar\"\n    submitText=\"Сохранить\"\n  >\n    <input\n      type=\"url\"\n      className=\"popup__form-input\"\n      id=\"avatar\"\n      name=\"avatar\"\n      placeholder=\"Ссылка на аватар\"\n      required\n      ref={avatarRef}\n    />\n    <div className=\"popup__form-error-container\">\n      <span className=\"avatar-error popup__form-error\"></span>\n    </div>\n  </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup(props) {\n  const { state, onClose, onAddCard } = props\n  const { open } = state\n\n  const [place, setPlace] = React.useState('')\n  function handleChangePlace(e) {\n    setPlace(e.target.value)\n  }\n\n  const [link, setLink] = React.useState('')\n  function handleChangeLink(e) {\n    setLink(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onAddCard({\n      name: place,\n      link,\n    })\n    setPlace('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={open}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      title=\"Новое место\"\n      name=\"popup-addcard\"\n      submitText=\"Сохранить\"\n    >\n      <input\n        type=\"text\"\n        className=\"popup__form-input\"\n        id=\"place\"\n        name=\"place\"\n        placeholder=\"Название\"\n        required\n        minLength=\"2\"\n        maxLength=\"30\"\n        value={place}\n        onChange={handleChangePlace}\n      />\n      <div className=\"popup__form-error-container\">\n        <span className=\"place-error popup__form-error\"></span>\n      </div>\n      <input\n        type=\"url\"\n        className=\"popup__form-input\"\n        id=\"link\"\n        name=\"link\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        value={link}\n        onChange={handleChangeLink}\n      />\n      <div className=\"popup__form-error-container\">\n        <span className=\"link-error popup__form-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction SubmitPopup(props) {\n  const { state, onClose, onSubmit } = props\n  const { open } = state\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onSubmit()\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={open}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      title=\"Вы уверены?\"\n      name=\"popup-profile\"\n      submitText=\"Подтвердить\"\n    >\n    </PopupWithForm>\n  )\n}\n\nexport default SubmitPopup\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl\n    this._headers = headers\n  }\n\n  _header(customHeaders) {\n    if (customHeaders) {return customHeaders} else {return this._headers}\n  }\n\n  _apiRequest(urlEnd, method, body, customHeaders) {\n    if (method === 'GET') {\n      return fetch(`${this._baseUrl}${urlEnd}`, {\n        method: method,\n        credentials: 'include',\n        headers: this._header(customHeaders),\n      }).then((res) => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n    } else {\n      return fetch(`${this._baseUrl}${urlEnd}`, {\n        method: method,\n        credentials: 'include',\n        headers: this._header(customHeaders),\n        body: JSON.stringify(body),\n      }).then((res) => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n    }\n  }\n\n  signUp(data) {\n    return this._apiRequest('/signup', 'POST', {\n      password: data.password,\n      email: data.email\n    })\n  }\n\n  signIn(data) {\n    return this._apiRequest('/signin', 'POST', {\n      password: data.password,\n      email: data.email\n    })\n  }\n\n  checkToken() {\n    return this._apiRequest('/users/me', 'GET', null, {\n      'Content-Type': 'application/json',\n      'Authorization' : `Bearer ${localStorage.getItem('token')}`\n    })\n  }\n\n  getUserInfo() {\n    return this._apiRequest('/users/me', 'GET')\n  }\n\n  updateUserInfo(userInfo) {\n    return this._apiRequest('/users/me', 'PATCH', {\n      name: userInfo.name,\n      about: userInfo.about,\n    })\n  }\n\n  setNewAvatar(avatarUrl) {\n    return this._apiRequest('/users/me/avatar', 'PATCH', {\n      avatar: avatarUrl,\n    })\n  }\n\n  getInitialCards() {\n    return this._apiRequest('/cards', 'GET')\n  }\n\n  addNewCard(card) {\n    return this._apiRequest('/cards', 'POST', {\n      name: card.name,\n      link: card.link,\n    })\n  }\n\n  addCardLike(id) {\n    return this._apiRequest(`/cards/likes/${id}`, 'PUT')\n  }\n\n  removeCardLike(id) {\n    return this._apiRequest(`/cards/likes/${id}`, 'DELETE')\n  }\n\n  removeCard(id) {\n    return this._apiRequest(`/cards/${id}`, 'DELETE')\n  }\n}\n\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\n  headers: {\n    authorization: '0ea9232f-20d8-4231-b26e-2828aaef49f5',\n    'Content-Type': 'application/json',\n  },\n})\n\nexport const authApi = new Api({\n  baseUrl: 'https://auth.nomoreparties.co',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n})\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from 'react'\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom'\n\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\n\nimport Login from './Login.js'\nimport Register from './Register.js'\nimport HamburgerMenu from './HamburgerMenu.js'\n\nimport PopupWithTooltip from './popups/PopupWithTooltip'\nimport ImagePopup from './popups/ImagePopup'\nimport EditProfilePopup from './popups/EditProfilePopup'\nimport EditAvatarPopup from './popups/EditAvatarPopup'\nimport AddPlacePopup from './popups/AddPlacePopup'\nimport SubmitPopup from './popups/SubmitPopup'\n\nimport { api, authApi } from '../utils/api'\nimport ProtectedRoute from './ProtectedRoute'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction App() {\n  //техническое\n  const history = useHistory()\n\n  //основные переменные\n  const [loggedIn, setLoggedIn] = React.useState(false)\n  const [cards, setCards] = React.useState([])\n  const [isMenuOpen, setMenuOpen] = React.useState(false)\n  function prepareHamburger() {\n    setMenuOpen(!isMenuOpen)\n  }\n  const [isMobile, setMobile] = React.useState(() => {\n    if (window.innerWidth < 620) {\n      return true\n    } else {\n      return false\n    }\n  })\n\n  //информация о пользователе\n  const [email, setEmail] = React.useState('arflit@gmail.com')\n  const [currentUser, setCurrentUser] = React.useState({\n    avatar:\n      'https://github.com/konjvpaljto/mesto/blob/master/src/images/avatar.jpg?raw=true',\n    name: 'Жак Ив-Кусто',\n    about: 'Исследователь океана',\n  })\n\n  //состояние попапов\n  const [selectedCard, setSelectedCard] = React.useState({})\n\n  const [tooltipPopupState, setTooltipPopupState] = React.useState({\n    open: false,\n    result: false,\n    message: '',\n  })\n  const [avatarPopupState, setAvatarPopupState] = React.useState({\n    open: false,\n  })\n  const [profilePopupState, setProfilePopupState] = React.useState({\n    open: false,\n  })\n  const [submitPopupState, setSubmitPopupState] = React.useState({\n    open: false,\n  })\n  const [addPlacePopupState, setAddPlacePopupState] = React.useState({\n    open: false,\n  })\n\n  //функции управления попапами\n  function closeAllPopups() {\n    setAvatarPopupState({\n      ...avatarPopupState,\n      open: false,\n    })\n    setProfilePopupState({\n      ...profilePopupState,\n      open: false,\n    })\n    setAddPlacePopupState({\n      ...addPlacePopupState,\n      open: false,\n    })\n    setTooltipPopupState({\n      ...tooltipPopupState,\n      open: false,\n      result: false,\n      message: '',\n    })\n    setSelectedCard({})\n    setSubmitPopupState({\n      ...submitPopupState,\n      open: false,\n    })\n  }\n\n  function handleTooltipOpen(result, message) {\n    setTooltipPopupState({\n      open: true,\n      result: result,\n      message: message,\n    })\n  }\n\n  function handleEditAvatarClick() {\n    setAvatarPopupState({\n      ...avatarPopupState,\n      open: true,\n    })\n  }\n\n  function handleProfileClick() {\n    setProfilePopupState({\n      ...profilePopupState,\n      open: true,\n    })\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupState({\n      ...addPlacePopupState,\n      open: true,\n    })\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function onSubmit(card) {\n    setSubmitPopupState({\n      ...submitPopupState,\n      open: true,\n    })\n    setDelCard(card)\n  }\n\n  React.useEffect(() => {\n    const onKeypress = (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups()\n      }\n    }\n\n    document.addEventListener('keydown', onKeypress)\n\n    return () => {\n      document.removeEventListener('keydown', onKeypress)\n    }\n  }, [])\n\n  //функции регистрации и авторизации\n  function onSignUp(data) {\n    authApi\n      .signUp(data)\n      .then(() => {\n        handleTooltipOpen(true)\n      })\n      .then(() => {\n        setTimeout(() => {\n          onSignIn(data)\n          closeAllPopups()\n        }, 1500)\n      })\n      .catch((err) => {\n        handleTooltipOpen(false, `Не получилось зарегистрироваться: ${err}`)\n      })\n  }\n\n  function onSignIn(data) {\n    authApi\n      .signIn(data)\n      .then((res) => {\n        localStorage.setItem('token', res.token)\n        setLoggedIn(true)\n        setEmail(data.email)\n      })\n      .then(() => {\n        history.push('/cards')\n      })\n      .catch((err) => {\n        handleTooltipOpen(false, `Не получилось войти: ${err}`)\n      })\n  }\n\n  function onSignOut() {\n    setLoggedIn(false)\n    setMenuOpen(false)\n    localStorage.removeItem('token')\n  }\n\n  //функции управления данными пользователя\n  function handleUpdateUser(data) {\n    api\n      .updateUserInfo(data)\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .then(() => {\n        closeAllPopups()\n      })\n      .catch((err) => {\n        closeAllPopups()\n        handleTooltipOpen(\n          false,\n          `Не удалось обновить данные пользователя: ${err}`\n        )\n      })\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .setNewAvatar(data.avatar)\n      .then(() => {\n        setCurrentUser({\n          ...currentUser,\n          avatar: data.avatar,\n        })\n      })\n      .then(() => {\n        closeAllPopups()\n      })\n      .catch((err) => {\n        closeAllPopups()\n        handleTooltipOpen(false, `Не удалось обновить аватар: ${err}`)\n      })\n  }\n\n  // Функции управления контентом\n\n  function handleAddPlace(data) {\n    api\n      .addNewCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards])\n      })\n      .then(() => {\n        closeAllPopups()\n      })\n      .catch((err) => {\n        closeAllPopups()\n        handleTooltipOpen(false, `Не удалось добавить карточку: ${err}`)\n      })\n  }\n\n  const [deletingCard, setDelCard] = React.useState({})\n\n  function handleCardDelete() {\n    const isOwn = deletingCard.owner._id === currentUser._id\n    if (isOwn) {\n      api\n        .removeCard(deletingCard._id)\n        .then(() => {\n          const newCards = cards.filter((c) => {\n            if (c._id === deletingCard._id) {\n              return false\n            } else {\n              return true\n            }\n          })\n          setCards(newCards)\n        })\n        .catch((err) => {\n          handleTooltipOpen(false, `Не удалось удалить карточку: ${err}`)\n        })\n    } else {\n      handleTooltipOpen(\n        false,\n        `Не удалось удалить карточку: вы не хозяин. Нечего на скрытые кнопки жать!`\n      )\n    }\n    setDelCard({})\n    closeAllPopups()\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id)\n\n    function updateCards(newCard) {\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c))\n      setCards(newCards)\n    }\n\n    if (isLiked) {\n      api\n        .removeCardLike(card._id)\n        .then((newCard) => {\n          updateCards(newCard)\n        })\n        .catch((err) => {\n          handleTooltipOpen(false, `Не удалось поставить лайк: ${err}`)\n        })\n    } else {\n      api\n        .addCardLike(card._id)\n        .then((newCard) => {\n          updateCards(newCard)\n        })\n        .catch((err) => {\n          handleTooltipOpen(false, `Не удалось снять лайк: ${err}`)\n        })\n    }\n  }\n\n  // Функции при загрузке страницы\n\n  React.useEffect(() => {\n    if (localStorage.getItem('token')) {\n      authApi\n        .checkToken()\n        .then((data) => {\n          setEmail(data.data.email)\n          setLoggedIn(true)\n        })\n        .then(() => {\n          history.push('/cards')\n        })\n        .catch((err) => {\n          setLoggedIn(false)\n          handleTooltipOpen(false, `Не удалось авторизоваться: ${err}`)\n        })\n    }\n  }, [])\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .catch((err) => {\n        handleTooltipOpen(\n          false,\n          `Не удалось загрузить данные пользователя: ${err}`\n        )\n      })\n  }, [email])\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(data)\n      })\n      .catch((err) => {\n        handleTooltipOpen(\n          false,\n          `Не удалось загрузить карточки с сервера: ${err}`\n        )\n      })\n  }, [email])\n\n  React.useEffect(() => {\n    const onScreenChange = () => {\n      if (window.innerWidth < 620) {\n        setMobile(true)\n      } else {\n        setMobile(false)\n        setMenuOpen(false)\n      }\n    }\n\n    window.addEventListener('resize', onScreenChange)\n\n    return () => {\n      window.removeEventListener('resize', onScreenChange)\n    }\n  }, [])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className={isMenuOpen ? 'page page_menu_opened' : 'page'}>\n        <HamburgerMenu\n          onSignOut={onSignOut}\n          email={email}\n          isMenuOpen={isMenuOpen}\n        />\n        <Header\n          email={email}\n          loggedIn={loggedIn}\n          onSignOut={onSignOut}\n          isMenuOpen={isMenuOpen}\n          prepareHamburger={prepareHamburger}\n          isMobile={isMobile}\n        />\n        <Switch>\n          <Route path=\"/sign-in\">\n            <Login onSignIn={onSignIn} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register onSignUp={onSignUp} />\n          </Route>\n          <ProtectedRoute\n            path=\"/cards\"\n            loggedIn={loggedIn}\n            onEditProfile={handleProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            cards={cards}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={onSubmit}\n            component={Main}\n          />\n          <Route path=\"/\">\n            {loggedIn ? <Redirect to=\"/cards\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n\n        <Footer />\n        <PopupWithTooltip state={tooltipPopupState} onClose={closeAllPopups} />\n        <EditAvatarPopup\n          state={avatarPopupState}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <EditProfilePopup\n          state={profilePopupState}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          state={addPlacePopupState}\n          onClose={closeAllPopups}\n          onAddCard={handleAddPlace}\n        />\n        <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n        <SubmitPopup\n          state={submitPopupState}\n          onClose={closeAllPopups}\n          onSubmit={handleCardDelete}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}